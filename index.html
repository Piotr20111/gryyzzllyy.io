<!DOCTYPE html>
<html lang="pl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-Frame-Options" content="DENY">
    <meta http-equiv="X-Content-Type-Options" content="nosniff">
    <meta http-equiv="Referrer-Policy" content="strict-origin-when-cross-origin">
    <meta name="robots" content="index, follow">
    <meta name="description" content="Pobierz fascynującą grę Maze - labirynt pełen wyzwań i tajemnic. Bezpieczne pobieranie gier online.">
    <title>Gry do pobrania!</title>
    <style>
        /* —— RESET & THEME —— */
        :root {
            --primary-orange: #ff7700;
            --primary-purple: #6b46c1;
            --primary-blue: #3498db;
            --primary-green: #28a745;
            --bg-dark: #0f0f1a;
            --bg-section: rgba(30, 30, 46, 0.92);
            --text-light: #ffffff;
            --shadow-glow: 0 0 20px;
            --error-color: #dc3545;
            --success-color: #28a745;
        }

        * {
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            margin: 0;
            padding: 0;
            color: var(--text-light);
            background-color: var(--bg-dark);
            background-image: 
                linear-gradient(135deg, rgba(50, 12, 102, 0.15) 25%, transparent 25%),
                linear-gradient(225deg, rgba(50, 12, 102, 0.15) 25%, transparent 25%),
                linear-gradient(45deg, rgba(50, 12, 102, 0.15) 25%, transparent 25%),
                linear-gradient(315deg, rgba(50, 12, 102, 0.15) 25%, #0f0f1a 25%);
            background-position: 10px 0, 10px 0, 0 0, 0 0;
            background-size: 20px 20px;
            background-attachment: fixed;
            position: relative;
            overflow-x: hidden;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }

        /* Enhanced neon glow effect */
        body::before {
            content: "";
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: radial-gradient(circle at 50% 50%, rgba(45, 0, 128, 0.4) 0%, rgba(10, 10, 35, 0) 80%);
            pointer-events: none;
            z-index: -1;
            animation: backgroundPulse 8s ease-in-out infinite;
        }

        @keyframes backgroundPulse {
            0%, 100% { opacity: 0.7; }
            50% { opacity: 1; }
        }

        /* —— ADVANCED ANIMATIONS —— */
        @keyframes slideInFromTop {
            0% {
                transform: translateY(-100px);
                opacity: 0;
            }
            100% {
                transform: translateY(0);
                opacity: 1;
            }
        }

        @keyframes slideInFromLeft {
            0% {
                transform: translateX(-100px);
                opacity: 0;
            }
            100% {
                transform: translateX(0);
                opacity: 1;
            }
        }

        @keyframes slideInFromRight {
            0% {
                transform: translateX(100px);
                opacity: 0;
            }
            100% {
                transform: translateX(0);
                opacity: 1;
            }
        }

        @keyframes scaleIn {
            0% {
                transform: scale(0.8);
                opacity: 0;
            }
            100% {
                transform: scale(1);
                opacity: 1;
            }
        }

        @keyframes glowPulse {
            0%, 100% {
                box-shadow: var(--shadow-glow) rgba(255, 119, 0, 0.4);
            }
            50% {
                box-shadow: 0 0 30px rgba(255, 119, 0, 0.8), 0 0 40px rgba(255, 119, 0, 0.4);
            }
        }

        @keyframes float {
            0%, 100% {
                transform: translateY(0px);
            }
            50% {
                transform: translateY(-10px);
            }
        }

        @keyframes rotateHue {
            0% { filter: hue-rotate(0deg); }
            100% { filter: hue-rotate(360deg); }
        }

        @keyframes shake {
            0%, 100% { transform: translateX(0); }
            25% { transform: translateX(-5px); }
            75% { transform: translateX(5px); }
        }

        @keyframes typing {
            from { width: 0; }
            to { width: 100%; }
        }

        @keyframes blink {
            50% { border-color: transparent; }
        }

        /* Luminous glow effect */
        @keyframes luminousGlow {
            0%, 100% { 
                text-shadow: 0 0 5px rgba(255, 255, 255, 0.8),
                             0 0 10px rgba(255, 255, 255, 0.5),
                             0 0 15px rgba(255, 119, 0, 0.4),
                             0 0 20px rgba(255, 119, 0, 0.3);
            }
            50% { 
                text-shadow: 0 0 10px rgba(255, 255, 255, 0.9),
                             0 0 20px rgba(255, 255, 255, 0.6),
                             0 0 30px rgba(255, 119, 0, 0.5),
                             0 0 40px rgba(255, 119, 0, 0.4);
            }
        }

        /* Cosmic background animation */
        @keyframes cosmicBackground {
            0% {
                background-position: 0% 0%;
            }
            50% {
                background-position: 100% 100%;
            }
            100% {
                background-position: 0% 0%;
            }
        }
        
        /* Rotating border animation */
        @keyframes rotateBorder {
            0% { border-image-source: linear-gradient(0deg, var(--primary-orange), var(--primary-purple)); }
            25% { border-image-source: linear-gradient(90deg, var(--primary-purple), var(--primary-blue)); }
            50% { border-image-source: linear-gradient(180deg, var(--primary-blue), var(--primary-green)); }
            75% { border-image-source: linear-gradient(270deg, var(--primary-green), var(--primary-orange)); }
            100% { border-image-source: linear-gradient(360deg, var(--primary-orange), var(--primary-purple)); }
        }
        
        /* Smooth close animation */
        @keyframes smoothClose {
            0% { transform: rotate(0deg) scale(1); }
            100% { transform: rotate(180deg) scale(1.1); }
        }

        /* Neon pulse animation */
        @keyframes neonPulse {
            0%, 100% {
                box-shadow: 0 0 5px rgba(255, 119, 0, 0.7),
                            0 0 10px rgba(255, 119, 0, 0.5),
                            inset 0 0 5px rgba(255, 119, 0, 0.2);
            }
            50% {
                box-shadow: 0 0 15px rgba(255, 119, 0, 0.9),
                            0 0 25px rgba(255, 119, 0, 0.7),
                            inset 0 0 10px rgba(255, 119, 0, 0.3);
            }
        }
        
        /* Element slide in stagger animation */
        @keyframes elementSlideIn {
            0% {
                transform: translateY(30px);
                opacity: 0;
            }
            100% {
                transform: translateY(0);
                opacity: 1;
            }
        }
        
        /* 3D flip animation */
        @keyframes flip3D {
            0% {
                transform: perspective(400px) rotateY(0);
            }
            100% {
                transform: perspective(400px) rotateY(180deg);
            }
        }

        /* —— LOGIN/REGISTER SYSTEM STYLES —— */
        .user-panel {
            position: absolute;
            top: 0;
            left: 30px;
            z-index: 10;
            animation: slideInFromLeft 0.8s ease-out;
        }

        .login-toggle {
            background: linear-gradient(135deg, var(--primary-purple), #9333ea);
            color: white;
            border: none;
            padding: 8px 15px;
            font-size: 14px;
            font-weight: bold;
            cursor: pointer;
            border-radius: 0 0 8px 8px;
            display: flex;
            align-items: center;
            box-shadow: var(--shadow-glow) rgba(107, 70, 193, 0.4);
            border: 1px solid rgba(107, 70, 193, 0.25);
            border-top: none;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            animation: float 3s ease-in-out infinite;
        }

        .login-toggle:hover {
            background: linear-gradient(135deg, #5b21b6, #7c3aed);
            box-shadow: 0 4px 25px rgba(107, 70, 193, 0.6);
            transform: translateY(-2px);
        }

        /* UPDATED: Improved login modal background */
        .auth-modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            z-index: 1000;
            animation: fadeIn 0.3s ease-out;
            background: linear-gradient(135deg, rgba(15, 15, 26, 0.85), rgba(10, 10, 20, 0.95));
            backdrop-filter: blur(15px);
        }

        /* Beautiful cosmic background for auth modal */
        .auth-modal::before {
            content: "";
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-image: 
                radial-gradient(circle at 10% 20%, rgba(107, 70, 193, 0.2) 0%, transparent 25%),
                radial-gradient(circle at 90% 80%, rgba(255, 119, 0, 0.2) 0%, transparent 25%),
                radial-gradient(circle at 50% 50%, rgba(52, 152, 219, 0.1) 0%, transparent 50%);
            pointer-events: none;
            opacity: 0.8;
            animation: cosmicBackground 20s ease infinite;
            z-index: -1;
        }

        /* Add star-like dots to auth modal background */
        .auth-modal::after {
            content: '';
            position: fixed;
            width: 100%;
            height: 100%;
            top: 0;
            left: 0;
            pointer-events: none;
            background-image: radial-gradient(white, rgba(255,255,255,0) 2px);
            background-size: 100px 100px;
            background-position: 0 0, 50px 50px;
            opacity: 0.2;
            z-index: -1;
            animation: float 6s infinite ease-in-out;
        }

        .auth-content {
            background: linear-gradient(145deg, rgba(30, 30, 46, 0.95), rgba(20, 20, 35, 0.95));
            margin: 5% auto;
            padding: 40px;
            border-radius: 20px;
            max-width: 500px;
            box-shadow: 
                0 20px 60px rgba(0, 0, 0, 0.8),
                var(--shadow-glow) rgba(107, 70, 193, 0.3),
                inset 0 1px 0 rgba(255, 255, 255, 0.1);
            border: 1px solid rgba(107, 70, 193, 0.3);
            position: relative;
            animation: scaleIn 0.5s cubic-bezier(0.34, 1.56, 0.64, 1);
            max-height: 90vh;
            overflow-y: auto;
            z-index: 1001; /* Ensuring content stays above the background */
        }

        .auth-header {
            text-align: center;
            margin-bottom: 30px;
        }

        .auth-header h2 {
            color: var(--primary-orange);
            font-size: 28px;
            margin: 0;
            text-shadow: var(--shadow-glow) rgba(255, 119, 0, 0.5);
            animation: glowPulse 2s ease-in-out infinite;
        }

        .auth-tabs {
            display: flex;
            background: rgba(15, 15, 26, 0.8);
            border-radius: 12px;
            padding: 5px;
            margin-bottom: 30px;
        }

        .auth-tab {
            flex: 1;
            padding: 12px 20px;
            background: none;
            border: none;
            color: rgba(255, 255, 255, 0.6);
            cursor: pointer;
            border-radius: 8px;
            transition: all 0.3s ease;
            font-weight: bold;
        }

        .auth-tab.active {
            background: linear-gradient(135deg, var(--primary-orange), #ff9900);
            color: white;
            box-shadow: var(--shadow-glow) rgba(255, 119, 0, 0.3);
        }

        .auth-form {
            display: none;
            flex-direction: column;
            gap: 20px;
        }

        .auth-form.active {
            display: flex;
        }

        .form-group {
            position: relative;
            animation: elementSlideIn 0.4s ease forwards;
        }
        
        /* Staggered animation for form groups */
        .auth-form .form-group:nth-child(2) {
            animation-delay: 0.1s;
        }
        
        .auth-form .form-group:nth-child(3) {
            animation-delay: 0.2s;
        }

        .form-label {
            display: block;
            color: var(--primary-orange);
            font-weight: bold;
            margin-bottom: 8px;
            font-size: 14px;
        }

        .form-input {
            width: 100%;
            padding: 15px 20px;
            background: rgba(15, 15, 26, 0.8);
            border: 2px solid rgba(107, 70, 193, 0.3);
            border-radius: 12px;
            color: white;
            font-size: 16px;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            outline: none;
        }

        .form-input:focus {
            border-color: var(--primary-orange);
            box-shadow: var(--shadow-glow) rgba(255, 119, 0, 0.3);
            transform: translateY(-2px);
        }

        .form-input.error {
            border-color: var(--error-color);
            box-shadow: var(--shadow-glow) rgba(220, 53, 69, 0.3);
            animation: shake 0.5s ease-in-out;
        }

        .form-input.success {
            border-color: var(--success-color);
            box-shadow: var(--shadow-glow) rgba(40, 167, 69, 0.3);
        }

        .form-input::placeholder {
            color: rgba(255, 255, 255, 0.5);
        }

        .form-error {
            color: var(--error-color);
            font-size: 12px;
            margin-top: 5px;
            display: none;
        }

        .form-success {
            color: var(--success-color);
            font-size: 12px;
            margin-top: 5px;
            display: none;
        }

        .auth-btn {
            background: linear-gradient(135deg, var(--primary-orange), #ff9900);
            color: white;
            border: none;
            padding: 15px 30px;
            font-size: 18px;
            font-weight: bold;
            border-radius: 12px;
            cursor: pointer;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            position: relative;
            overflow: hidden;
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        .auth-btn:disabled {
            background: rgba(107, 70, 193, 0.5);
            cursor: not-allowed;
            transform: none;
        }

        .auth-btn::before {
            content: "";
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.2), transparent);
            transition: left 0.5s;
        }

        .auth-btn:hover:not(:disabled)::before {
            left: 100%;
        }

        .auth-btn:hover:not(:disabled) {
            background: linear-gradient(135deg, #ff9900, #ffaa00);
            box-shadow: 0 8px 25px rgba(255, 119, 0, 0.4);
            transform: translateY(-3px);
        }

        .user-info {
            background: rgba(40, 167, 69, 0.1);
            border: 1px solid rgba(40, 167, 69, 0.3);
            border-radius: 12px;
            padding: 15px;
            margin-top: 20px;
            text-align: center;
            animation: slideInFromTop 0.5s ease-out;
            transition: all 0.3s ease;
        }
        
        /* Fixed hover graphics */
        .user-info:hover {
            box-shadow: 0 0 15px rgba(40, 167, 69, 0.3);
            transform: translateY(-3px);
            background: rgba(40, 167, 69, 0.15);
        }

        .user-avatar {
            width: 80px;
            height: 80px;
            border-radius: 50%;
            background: linear-gradient(135deg, var(--primary-orange), var(--primary-purple));
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 0 auto 10px;
            font-size: 24px;
            overflow: hidden;
            border: 2px solid rgba(255, 255, 255, 0.3);
            box-shadow: 0 0 15px rgba(107, 70, 193, 0.5);
            transition: all 0.3s ease;
            animation: neonPulse 3s infinite;
        }
        
        /* Fixed hover graphics */
        .user-avatar:hover {
            transform: scale(1.08) rotate(5deg);
            box-shadow: 0 0 25px rgba(107, 70, 193, 0.8);
            border-color: rgba(255, 255, 255, 0.6);
        }

        .user-avatar img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            border-radius: 50%;
            transition: all 0.3s ease;
        }
        
        /* Cool hover effect for avatar image */
        .user-avatar:hover img {
            filter: saturate(1.3) brightness(1.1);
        }

        .logout-btn {
            background: rgba(220, 53, 69, 0.8);
            color: white;
            border: none;
            padding: 8px 16px;
            border-radius: 8px;
            cursor: pointer;
            font-size: 12px;
            margin-top: 10px;
            transition: all 0.3s ease;
        }

        .logout-btn:hover {
            background: rgba(220, 53, 69, 1);
            transform: scale(1.05);
        }

        /* Fixed: Close button - smoother animation */
        .close-auth {
            position: absolute;
            top: 15px;
            right: 20px;
            color: white;
            font-size: 28px;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s ease;
            width: 35px;
            height: 35px;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 50%;
            user-select: none;
            z-index: 1002; /* Ensure close button is above everything */
        }

        .close-auth:hover {
            color: var(--primary-orange);
            text-shadow: var(--shadow-glow) rgba(255, 119, 0, 0.6);
            background: rgba(255, 119, 0, 0.1);
            animation: smoothClose 0.3s ease;
        }

        .password-strength {
            margin-top: 10px;
            font-size: 12px;
        }

        .strength-bar {
            width: 100%;
            height: 4px;
            background: rgba(255, 255, 255, 0.2);
            border-radius: 2px;
            overflow: hidden;
            margin-top: 5px;
        }

        .strength-fill {
            height: 100%;
            width: 0%;
            transition: all 0.3s ease;
            border-radius: 2px;
        }

        .strength-weak { background: var(--error-color); width: 25%; }
        .strength-fair { background: #ffc107; width: 50%; }
        .strength-good { background: #17a2b8; width: 75%; }
        .strength-strong { background: var(--success-color); width: 100%; }

        .birthdate-info {
            font-size: 12px;
            color: rgba(255, 255, 255, 0.6);
            margin-top: 5px;
        }

        /* —— AVATAR SELECTION —— */
        .avatar-selection {
            display: none;
            flex-direction: column;
            gap: 20px;
        }

        .avatar-selection.active {
            display: flex;
        }

        /* Modified: Avatar grid with hover scrolling */
        .avatar-grid {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 15px;
            max-height: 300px;
            overflow-y: hidden;
            padding: 10px;
            background: rgba(15, 15, 26, 0.6);
            border-radius: 12px;
            transition: all 0.3s ease;
        }

        .avatar-grid:hover {
            overflow-y: auto;
            background: rgba(15, 15, 26, 0.8);
            box-shadow: inset 0 0 15px rgba(0, 0, 0, 0.5);
        }

        .avatar-option {
            width: 80px;
            height: 80px;
            border-radius: 50%;
            cursor: pointer;
            border: 3px solid transparent;
            transition: all 0.3s ease;
            overflow: hidden;
            position: relative;
        }

        .avatar-option img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            border-radius: 50%;
            transition: all 0.3s ease;
        }

        .avatar-option:hover {
            border-color: var(--primary-orange);
            transform: scale(1.1);
            box-shadow: var(--shadow-glow) rgba(255, 119, 0, 0.5);
            z-index: 1;
        }
        
        /* Glow effect on hover */
        .avatar-option::after {
            content: '';
            position: absolute;
            top: -5px;
            left: -5px;
            right: -5px;
            bottom: -5px;
            background: radial-gradient(circle, rgba(255, 119, 0, 0.7) 0%, rgba(255, 119, 0, 0) 70%);
            z-index: -1;
            opacity: 0;
            transition: opacity 0.3s ease;
            border-radius: 50%;
        }
        
        .avatar-option:hover::after {
            opacity: 1;
        }

        .avatar-option.selected {
            border-color: var(--primary-orange);
            box-shadow: var(--shadow-glow) rgba(255, 119, 0, 0.7);
            transform: scale(1.05);
        }

        /* —— SETTINGS MODAL —— */
        .settings-btn {
            background: rgba(52, 152, 219, 0.8);
            color: white;
            border: none;
            padding: 8px 16px;
            border-radius: 8px;
            cursor: pointer;
            font-size: 12px;
            margin-top: 10px;
            margin-right: 10px;
            transition: all 0.3s ease;
        }

        .settings-btn:hover {
            background: rgba(52, 152, 219, 1);
            transform: scale(1.05);
        }

        .settings-modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            z-index: 1000;
            animation: fadeIn 0.3s ease-out;
            background: linear-gradient(135deg, rgba(15, 15, 26, 0.85), rgba(10, 10, 20, 0.95));
            backdrop-filter: blur(15px);
        }

        /* Beautiful cosmic background for settings modal */
        .settings-modal::before {
            content: "";
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-image: 
                radial-gradient(circle at 80% 10%, rgba(52, 152, 219, 0.2) 0%, transparent 25%),
                radial-gradient(circle at 20% 90%, rgba(40, 167, 69, 0.2) 0%, transparent 25%),
                radial-gradient(circle at 50% 50%, rgba(255, 119, 0, 0.1) 0%, transparent 50%);
            pointer-events: none;
            opacity: 0.8;
            animation: cosmicBackground 20s ease infinite alternate;
            z-index: -1;
        }

        .settings-content {
            background: linear-gradient(145deg, rgba(30, 30, 46, 0.95), rgba(20, 20, 35, 0.95));
            margin: 5% auto;
            padding: 40px;
            border-radius: 20px;
            max-width: 600px;
            box-shadow: 
                0 20px 60px rgba(0, 0, 0, 0.8),
                var(--shadow-glow) rgba(52, 152, 219, 0.3),
                inset 0 1px 0 rgba(255, 255, 255, 0.1);
            border: 1px solid rgba(52, 152, 219, 0.3);
            position: relative;
            animation: scaleIn 0.5s cubic-bezier(0.34, 1.56, 0.64, 1);
            max-height: 90vh;
            overflow-y: auto;
            z-index: 1001;
        }

        .settings-section {
            margin-bottom: 30px;
            padding: 20px;
            background: rgba(15, 15, 26, 0.6);
            border-radius: 12px;
            border: 1px solid rgba(52, 152, 219, 0.2);
            transition: all 0.3s ease;
        }
        
        /* Fixed hover graphics */
        .settings-section:hover {
            background: rgba(15, 15, 26, 0.8);
            box-shadow: 0 0 20px rgba(52, 152, 219, 0.15);
            transform: translateY(-3px);
            border-color: rgba(52, 152, 219, 0.3);
        }

        .settings-section h3 {
            color: var(--primary-blue);
            margin-top: 0;
            font-size: 20px;
        }

        .danger-zone {
            border-color: rgba(220, 53, 69, 0.3);
            background: rgba(220, 53, 69, 0.1);
        }
        
        /* Fixed hover graphics for danger zone */
        .danger-zone:hover {
            background: rgba(220, 53, 69, 0.15);
            box-shadow: 0 0 20px rgba(220, 53, 69, 0.15);
            border-color: rgba(220, 53, 69, 0.4);
        }

        .danger-zone h3 {
            color: var(--error-color);
        }

        .delete-account-btn {
            background: linear-gradient(135deg, var(--error-color), #c82333);
            color: white;
            border: none;
            padding: 12px 25px;
            border-radius: 8px;
            cursor: pointer;
            font-weight: bold;
            transition: all 0.3s ease;
        }

        .delete-account-btn:hover {
            background: linear-gradient(135deg, #c82333, #a71e2a);
            transform: scale(1.05);
        }

        /* CAPTCHA challenge for account deletion */
        .captcha-challenge {
            margin: 20px 0;
            padding: 15px;
            background: rgba(0, 0, 0, 0.3);
            border-radius: 8px;
            display: none;
        }

        .captcha-code {
            font-family: 'Courier New', monospace;
            font-size: 20px;
            letter-spacing: 3px;
            color: var(--primary-orange);
            background: rgba(0, 0, 0, 0.5);
            padding: 10px;
            border-radius: 5px;
            margin: 10px 0;
            text-align: center;
            user-select: none;
        }

        /* —— ENHANCED DROPDOWNS —— */
        .language-dropdown, .help-dropdown {
            position: absolute;
            top: 0;
            z-index: 10;
            animation: slideInFromRight 0.8s ease-out;
        }

        .language-dropdown {
            right: 30px;
        }

        /* Help dropdown position */
        .help-dropdown {
            right: 200px;
        }

        .dropdown-btn {
            background: linear-gradient(135deg, rgba(20, 20, 35, 0.9), rgba(30, 30, 46, 0.9));
            color: var(--primary-orange);
            border: none;
            padding: 8px 15px;
            font-size: 14px;
            font-weight: bold;
            cursor: pointer;
            border-radius: 0 0 8px 8px;
            display: flex;
            align-items: center;
            box-shadow: var(--shadow-glow) rgba(255, 119, 0, 0.2);
            border: 1px solid rgba(255, 119, 0, 0.25);
            border-top: none;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            position: relative;
            overflow: hidden;
        }

        .help-dropdown .dropdown-btn {
            color: #dc3545;
            box-shadow: var(--shadow-glow) rgba(220, 53, 69, 0.2);
            border-color: rgba(220, 53, 69, 0.25);
        }

        .dropdown-btn::before {
            content: "";
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(45deg, transparent 30%, rgba(255, 119, 0, 0.1) 50%, transparent 70%);
            transform: translateX(-100%);
            transition: transform 0.6s;
        }

        .dropdown-btn:hover::before {
            transform: translateX(100%);
        }

        .dropdown-btn:hover {
            background: linear-gradient(135deg, rgba(40, 40, 60, 0.95), rgba(50, 50, 66, 0.95));
            box-shadow: 0 4px 18px rgba(0, 0, 0, 0.5), var(--shadow-glow) rgba(255, 119, 0, 0.3);
            transform: translateY(-2px);
        }

        .dropdown-btn::after {
            content: "▼";
            font-size: 10px;
            margin-left: 8px;
            transition: transform 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }

        .dropdown-btn.active::after {
            transform: rotate(180deg);
        }

        /* Fixed: Language dropdown width */
        .dropdown-content {
            display: none;
            position: absolute;
            right: 0;
            background: linear-gradient(145deg, rgba(20, 20, 35, 0.95), rgba(30, 30, 46, 0.95));
            min-width: 160px; /* Increased from 140px */
            max-width: 180px; /* Increased from 160px */
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.5);
            border-radius: 0 0 8px 8px;
            border: 1px solid rgba(255, 119, 0, 0.25);
            border-top: none;
            animation: slideDown 0.3s ease forwards;
            transform-origin: top;
            z-index: 9;
            backdrop-filter: blur(10px);
        }

        @keyframes slideDown {
            from {
                opacity: 0;
                transform: scaleY(0) translateY(-10px);
            }
            to {
                opacity: 1;
                transform: scaleY(1) translateY(0);
            }
        }

        .dropdown-option {
            padding: 12px 16px;
            text-decoration: none;
            display: block;
            color: white;
            text-align: center;
            font-weight: bold;
            font-size: 13px;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            cursor: pointer;
            position: relative;
            overflow: hidden;
            border-bottom: 1px solid rgba(255, 119, 0, 0.1);
            white-space: nowrap; /* Prevent text wrapping */
        }

        .dropdown-option:last-child {
            border-bottom: none;
        }

        .dropdown-option::before {
            content: "";
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 119, 0, 0.2), transparent);
            transition: left 0.5s;
        }

        .dropdown-option:hover::before {
            left: 100%;
        }

        .dropdown-option:hover {
            background-color: rgba(255, 119, 0, 0.2);
            color: var(--primary-orange);
            transform: translateX(5px);
        }

        .dropdown-option.active {
            color: var(--primary-orange);
            background-color: rgba(255, 119, 0, 0.1);
            text-shadow: var(--shadow-glow) rgba(255, 119, 0, 0.4);
        }

        /* —— ENHANCED HEADER —— */
        header {
            background-image: linear-gradient(rgba(0, 0, 0, 0.7), rgba(0, 0, 0, 0.7)),
                              url('https://images.unsplash.com/photo-1542751371-adc38448a05e?ixlib=rb-1.2.1&auto=format&fit=crop&w=1350&q=80');
            background-size: cover;
            background-position: center;
            padding: 100px 20px;
            text-align: center;
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.6);
            border-bottom: 3px solid var(--primary-orange);
            position: relative;
            overflow: hidden;
            animation: slideInFromTop 1s ease-out;
        }

        header::after {
            content: "";
            position: absolute;
            bottom: 0;
            left: 0;
            right: 0;
            height: 5px;
            background: linear-gradient(90deg, var(--primary-orange), #ff00ff, #00ffff, var(--primary-orange));
            background-size: 400% 400%;
            animation: gradientShift 5s ease infinite;
            filter: blur(2px);
            opacity: 0.95;
        }

        @keyframes gradientShift {
            0% {background-position: 0% 50%;}
            50% {background-position: 100% 50%;}
            100% {background-position: 0% 50%;}
        }

        h1 {
            font-size: 3.8rem;
            margin: 0;
            text-transform: uppercase;
            letter-spacing: 3px;
            color: var(--primary-orange);
            text-shadow: 
                0 0 15px rgba(255, 119, 0, 0.7), 
                0 0 25px rgba(255, 119, 0, 0.5), 
                0 0 35px rgba(255, 119, 0, 0.3);
            animation: titlePulse 3s ease-in-out infinite;
            position: relative;
        }

        @keyframes titlePulse {
            0%, 100% {
                text-shadow: 0 0 15px rgba(255, 119, 0, 0.7), 0 0 25px rgba(255, 119, 0, 0.5);
                transform: scale(1);
            }
            50% {
                text-shadow: 0 0 20px rgba(255, 119, 0, 0.9), 0 0 35px rgba(255, 119, 0, 0.7), 0 0 50px rgba(255, 119, 0, 0.4);
                transform: scale(1.02);
            }
        }

        /* —— MAIN CONTENT —— */
        main {
            max-width: 1200px;
            margin: 45px auto;
            padding: 0 20px;
            animation: slideInFromLeft 0.8s ease-out 0.3s both;
        }

        section {
            background: linear-gradient(145deg, var(--bg-section), rgba(25, 25, 41, 0.92));
            border-radius: 14px;
            padding: 40px;
            margin-bottom: 35px;
            box-shadow: 
                0 5px 20px rgba(0, 0, 0, 0.4), 
                var(--shadow-glow) rgba(255, 119, 0, 0.25),
                inset 0 1px 0 rgba(255, 255, 255, 0.1);
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
            border: 1px solid rgba(255, 119, 0, 0.25);
            position: relative;
            overflow: hidden;
        }

        section::before {
            content: "";
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(45deg, transparent 49%, rgba(255, 119, 0, 0.03) 50%, transparent 51%);
            opacity: 0;
            transition: opacity 0.3s ease;
        }

        section:hover::before {
            opacity: 1;
        }

        section:hover {
            transform: translateY(-8px) scale(1.01);
            box-shadow: 
                0 12px 35px rgba(0, 0, 0, 0.5), 
                var(--shadow-glow) rgba(255, 119, 0, 0.5),
                inset 0 1px 0 rgba(255, 255, 255, 0.2);
        }

        h2 {
            color: var(--primary-orange);
            font-size: 2.2rem;
            margin-top: 0;
            display: flex;
            align-items: center;
            text-shadow: var(--shadow-glow) rgba(255, 119, 0, 0.4);
            animation: slideInFromLeft 0.6s ease-out;
        }

        h2::before {
            content: "🎮";
            margin-right: 15px;
            filter: drop-shadow(var(--shadow-glow) rgba(255, 119, 0, 0.5));
            animation: float 2s ease-in-out infinite;
        }

        .download-container {
            display: flex;
            align-items: center;
            flex-wrap: wrap;
            gap: 15px;
        }

        .btn {
            display: inline-block;
            padding: 15px 34px;
            border-radius: 12px;
            text-decoration: none;
            font-weight: bold;
            margin-top: 20px;
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
            position: relative;
            overflow: hidden;
            border: none;
            font-size: 17px;
            color: var(--text-light);
            cursor: pointer;
            letter-spacing: 0.5px;
            text-transform: uppercase;
            background: linear-gradient(145deg, transparent, rgba(255, 255, 255, 0.05));
        }

        .btn::before {
            content: "";
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.2), transparent);
            transition: left 0.6s cubic-bezier(0.4, 0, 0.2, 1);
        }

        .btn:hover::before {
            left: 100%;
        }

        .btn::after {
            content: "";
            position: absolute;
            top: 50%;
            left: 50%;
            width: 0;
            height: 0;
            background: radial-gradient(circle, rgba(255, 255, 255, 0.1), transparent);
            transform: translate(-50%, -50%);
            transition: all 0.4s ease;
        }

        .btn:hover::after {
            width: 300px;
            height: 300px;
        }

        .btn:hover {
            transform: translateY(-5px) scale(1.02);
        }

        .download-btn {
            background: linear-gradient(135deg, var(--primary-orange), #ff9900);
            box-shadow: var(--shadow-glow) rgba(255, 119, 0, 0.4);
            animation: glowPulse 3s ease-in-out infinite;
        }

        .download-btn:hover {
            background: linear-gradient(135deg, #ff9900, #ffaa00);
            box-shadow: 0 8px 30px rgba(255, 153, 0, 0.6), var(--shadow-glow) rgba(255, 153, 0, 0.3);
        }
        
        .info-btn {
            background: linear-gradient(135deg, var(--primary-blue), #2980b9);
            box-shadow: var(--shadow-glow) rgba(52, 152, 219, 0.4);
        }
        
        .info-btn:hover {
            background: linear-gradient(135deg, #2980b9, #3498db);
            box-shadow: 0 8px 30px rgba(52, 152, 219, 0.6), var(--shadow-glow) rgba(52, 152, 219, 0.3);
        }
        
        .error-message {
            display: none;
            color: #ff4444;
            margin-top: 15px;
            font-size: 14px;
            text-shadow: var(--shadow-glow) rgba(255, 68, 68, 0.4);
            flex-basis: 100%;
            animation: shake 0.5s ease-in-out;
        }

        /* —— ENHANCED AI CHATBOT —— */
        .ai-chatbot {
            position: fixed;
            bottom: 20px;
            right: 20px;
            z-index: 1000;
            animation: float 3s ease-in-out infinite;
        }

        .chatbot-toggle {
            width: 70px;
            height: 70px;
            background: linear-gradient(135deg, var(--primary-purple), #9333ea);
            border-radius: 50%;
            border: none;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            box-shadow: 
                0 8px 25px rgba(107, 70, 193, 0.4), 
                var(--shadow-glow) rgba(147, 51, 234, 0.3);
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
            animation: robotPulse 4s infinite;
            position: relative;
            overflow: hidden;
        }

        .chatbot-toggle::before {
            content: "";
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: linear-gradient(45deg, transparent 30%, rgba(255, 255, 255, 0.1) 50%, transparent 70%);
            transform: rotate(45deg);
            animation: rotate 3s linear infinite;
        }

        @keyframes rotate {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        @keyframes robotPulse {
            0%, 100% { 
                box-shadow: 0 8px 25px rgba(107, 70, 193, 0.4), var(--shadow-glow) rgba(147, 51, 234, 0.3);
                transform: scale(1);
            }
            50% { 
                box-shadow: 0 12px 35px rgba(107, 70, 193, 0.6), var(--shadow-glow) rgba(147, 51, 234, 0.5);
                transform: scale(1.05);
            }
        }

        .chatbot-toggle:hover {
            transform: scale(1.1);
            box-shadow: 0 12px 35px rgba(107, 70, 193, 0.6), var(--shadow-glow) rgba(147, 51, 234, 0.5);
        }

        .robot-icon {
            font-size: 32px;
            color: white;
            text-shadow: var(--shadow-glow) rgba(255, 255, 255, 0.5);
            z-index: 1;
            position: relative;
        }

        .chatbot-container {
            position: absolute;
            bottom: 90px;
            right: 0;
            width: 420px;
            height: 650px;
            background: linear-gradient(145deg, var(--bg-section), rgba(25, 25, 41, 0.97));
            border-radius: 20px;
            box-shadow: 
                0 20px 60px rgba(0, 0, 0, 0.5), 
                var(--shadow-glow) rgba(107, 70, 193, 0.3),
                inset 0 1px 0 rgba(255, 255, 255, 0.1);
            border: 1px solid rgba(107, 70, 193, 0.4);
            display: none;
            flex-direction: column;
            overflow: hidden;
            backdrop-filter: blur(15px);
            animation: modalSlideIn 0.5s cubic-bezier(0.34, 1.56, 0.64, 1);
            z-index: 999;
        }

        @keyframes modalSlideIn {
            from {
                opacity: 0;
                transform: scale(0.7) translateY(-50px);
            }
            to {
                opacity: 1;
                transform: scale(1) translateY(0);
            }
        }

        .chatbot-header {
            background: linear-gradient(135deg, var(--primary-purple), #9333ea);
            padding: 20px;
            color: white;
            font-weight: bold;
            display: flex;
            align-items: center;
            justify-content: space-between;
            position: relative;
            overflow: hidden;
        }

        .chatbot-header::before {
            content: "";
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(45deg, transparent 30%, rgba(255, 255, 255, 0.1) 50%, transparent 70%);
            transform: translateX(-100%);
            transition: transform 0.6s;
        }

        .chatbot-header:hover::before {
            transform: translateX(100%);
        }

        .chatbot-title {
            display: flex;
            align-items: center;
            gap: 10px;
            z-index: 1;
            position: relative;
        }

        .chatbot-close {
            background: none;
            border: none;
            color: white;
            font-size: 24px;
            cursor: pointer;
            padding: 0;
            width: 30px;
            height: 30px;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 50%;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            z-index: 1;
            position: relative;
        }

        .chatbot-close:hover {
            background-color: rgba(255, 255, 255, 0.2);
            animation: smoothClose 0.3s ease;
        }

        .chatbot-messages {
            flex: 1;
            padding: 20px;
            overflow-y: auto;
            background: linear-gradient(145deg, rgba(15, 15, 26, 0.8), rgba(20, 20, 31, 0.8));
        }

        .chatbot-welcome {
            text-align: center;
            color: #9333ea;
            margin-bottom: 20px;
            padding: 20px;
            background: linear-gradient(145deg, rgba(147, 51, 234, 0.1), rgba(107, 70, 193, 0.1));
            border-radius: 15px;
            border: 1px solid rgba(147, 51, 234, 0.3);
            animation: scaleIn 0.5s ease-out;
        }

        .chatbot-questions {
            display: flex;
            flex-direction: column;
            gap: 8px;
        }

        .question-btn {
            background: linear-gradient(145deg, rgba(107, 70, 193, 0.2), rgba(147, 51, 234, 0.2));
            border: 1px solid rgba(107, 70, 193, 0.4);
            color: white;
            padding: 12px 15px;
            border-radius: 12px;
            cursor: pointer;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            text-align: left;
            font-size: 12px;
            line-height: 1.3;
            position: relative;
            overflow: hidden;
        }

        .question-btn::before {
            content: "";
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(107, 70, 193, 0.3), transparent);
            transition: left 0.5s;
        }

        .question-btn:hover::before {
            left: 100%;
        }

        .question-btn:hover {
            background: linear-gradient(145deg, rgba(107, 70, 193, 0.4), rgba(147, 51, 234, 0.4));
            border-color: rgba(107, 70, 193, 0.6);
            transform: translateY(-2px) scale(1.02);
            box-shadow: 0 5px 15px rgba(107, 70, 193, 0.3);
        }

        .ai-response {
            background: linear-gradient(145deg, rgba(147, 51, 234, 0.2), rgba(107, 70, 193, 0.2));
            border-left: 3px solid #9333ea;
            padding: 20px;
            margin: 15px 0;
            border-radius: 12px;
            color: white;
            line-height: 1.5;
            animation: slideInFromRight 0.5s ease;
            font-size: 14px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
        }

        .ai-typing {
            display: none;
            background: linear-gradient(145deg, rgba(147, 51, 234, 0.1), rgba(107, 70, 193, 0.1));
            border-left: 3px solid #9333ea;
            padding: 15px 20px;
            margin: 15px 0;
            border-radius: 12px;
            color: #9333ea;
            font-style: italic;
            animation: pulse 1.5s ease-in-out infinite;
        }

        @keyframes pulse {
            0%, 100% { opacity: 0.7; }
            50% { opacity: 1; }
        }

        .typing-dots {
            display: inline-block;
        }

        .typing-dots::after {
            content: '';
            animation: typingDots 1.5s infinite;
        }

        @keyframes typingDots {
            0%, 20% { content: ''; }
            40% { content: '.'; }
            60% { content: '..'; }
            80%, 100% { content: '...'; }
        }

        .chatbot-footer {
            padding: 15px 20px;
            background: linear-gradient(145deg, rgba(20, 20, 35, 0.9), rgba(25, 25, 40, 0.9));
            border-top: 1px solid rgba(107, 70, 193, 0.3);
            text-align: center;
            font-size: 12px;
            color: #9333ea;
        }

        /* Login required message for AI */
        .ai-login-required {
            text-align: center;
            color: #ff6b6b;
            padding: 20px;
            background: linear-gradient(145deg, rgba(220, 53, 69, 0.1), rgba(200, 40, 60, 0.1));
            border-radius: 15px;
            border: 1px solid rgba(220, 53, 69, 0.3);
            animation: scaleIn 0.5s ease-out;
        }

        /* Enhanced scrollbar */
        .chatbot-messages::-webkit-scrollbar {
            width: 8px;
        }

        .chatbot-messages::-webkit-scrollbar-track {
            background: rgba(0, 0, 0, 0.2);
            border-radius: 4px;
        }

        .chatbot-messages::-webkit-scrollbar-thumb {
            background: linear-gradient(135deg, rgba(147, 51, 234, 0.5), rgba(107, 70, 193, 0.5));
            border-radius: 4px;
        }

        .chatbot-messages::-webkit-scrollbar-thumb:hover {
            background: linear-gradient(135deg, rgba(147, 51, 234, 0.7), rgba(107, 70, 193, 0.7));
        }

        /* —— MODAL STYLES —— */
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-color: rgba(0, 0, 0, 0.9);
            z-index: 1000;
            overflow: auto;
            animation: fadeIn 0.3s ease;
            backdrop-filter: blur(10px);
        }
        
        @keyframes fadeIn {
            from {opacity: 0;}
            to {opacity: 1;}
        }
        
        .modal-content {
            background: linear-gradient(145deg, var(--bg-section), rgba(25, 25, 41, 0.97));
            margin: 50px auto;
            padding: 40px;
            border-radius: 20px;
            max-width: 800px;
            box-shadow: 
                0 20px 60px rgba(0, 0, 0, 0.7), 
                var(--shadow-glow) rgba(255, 119, 0, 0.5),
                inset 0 1px 0 rgba(255, 255, 255, 0.1);
            border: 1px solid rgba(255, 119, 0, 0.35);
            position: relative;
            animation: modalSlideIn 0.5s cubic-bezier(0.34, 1.56, 0.64, 1);
            z-index: 1001;
        }
        
        .close-modal {
            position: absolute;
            top: 20px;
            right: 20px;
            color: var(--text-light);
            font-size: 28px;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            border-radius: 50%;
            width: 40px;
            height: 40px;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        .close-modal:hover {
            color: var(--primary-orange);
            text-shadow: var(--shadow-glow) rgba(255, 119, 0, 0.6);
            background: rgba(255, 119, 0, 0.1);
            animation: smoothClose 0.3s ease;
        }
        
        .modal h3 {
            color: var(--primary-orange);
            font-size: 28px;
            margin-top: 0;
            margin-bottom: 25px;
            text-shadow: var(--shadow-glow) rgba(255, 119, 0, 0.4);
            animation: slideInFromLeft 0.5s ease-out;
        }

        .download-steps {
            background: linear-gradient(145deg, rgba(20, 20, 35, 0.75), rgba(25, 25, 40, 0.75));
            border-radius: 12px;
            padding: 30px;
            margin-bottom: 25px;
            border-left: 5px solid var(--primary-orange);
            box-shadow: inset 0 0 15px rgba(0, 0, 0, 0.4);
            animation: slideInFromRight 0.5s ease-out 0.2s both;
        }
        
        .download-steps li {
            margin-bottom: 15px;
            line-height: 1.7;
            transition: all 0.3s ease;
        }

        .download-steps li:hover {
            transform: translateX(10px);
            color: var(--primary-orange);
        }
        
        .download-steps li:last-child {
            margin-bottom: 0;
        }
        
        .step-highlight {
            color: #ff9900;
            font-weight: bold;
            text-shadow: var(--shadow-glow) rgba(255, 153, 0, 0.4);
        }
        
        .warning-box {
            background: linear-gradient(145deg, rgba(220, 53, 69, 0.2), rgba(200, 40, 60, 0.2));
            border-left: 5px solid #dc3545;
            padding: 25px;
            margin-top: 30px;
            border-radius: 8px;
            box-shadow: var(--shadow-glow) rgba(220, 53, 69, 0.25);
            animation: slideInFromLeft 0.5s ease-out 0.4s both;
        }
        
        .info-img {
            max-width: 100%;
            height: auto;
            border-radius: 10px;
            margin: 15px 0;
            box-shadow: 0 5px 20px rgba(0, 0, 0, 0.5);
            border: 1px solid rgba(255, 255, 255, 0.2);
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
        }
        
        .info-img:hover {
            transform: scale(1.02);
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.7);
            filter: brightness(1.1);
        }

        .security-features {
            background: linear-gradient(145deg, rgba(40, 167, 69, 0.1), rgba(35, 150, 60, 0.1));
            border-left: 5px solid #28a745;
            padding: 25px;
            margin: 20px 0;
            border-radius: 12px;
            box-shadow: var(--shadow-glow) rgba(40, 167, 69, 0.2);
            animation: slideInFromLeft 0.5s ease-out 0.3s both;
            transition: all 0.3s ease;
        }
        
        .security-features:hover {
            background: linear-gradient(145deg, rgba(40, 167, 69, 0.15), rgba(35, 150, 60, 0.15));
            box-shadow: var(--shadow-glow) rgba(40, 167, 69, 0.3);
            transform: translateY(-3px);
        }

        .security-item {
            display: flex;
            align-items: center;
            margin: 12px 0;
            color: var(--text-light);
            transition: all 0.3s ease;
            animation: elementSlideIn 0.4s ease forwards;
        }
        
        .security-features .security-item:nth-child(2) {
            animation-delay: 0.1s;
        }
        
        .security-features .security-item:nth-child(3) {
            animation-delay: 0.2s;
        }
        
        .security-features .security-item:nth-child(4) {
            animation-delay: 0.3s;
        }
        
        .security-features .security-item:nth-child(5) {
            animation-delay: 0.4s;
        }

        .security-item:hover {
            transform: translateX(10px);
            color: #28a745;
        }

        .security-item::before {
            content: "✓";
            color: #28a745;
            font-weight: bold;
            margin-right: 15px;
            font-size: 18px;
            text-shadow: var(--shadow-glow) rgba(40, 167, 69, 0.5);
        }

        /* —— NOTIFICATION SYSTEM —— */
        .notification {
            position: fixed;
            top: 20px;
            right: 20px;
            background: linear-gradient(135deg, #28a745, #20c997);
            color: white;
            padding: 15px 20px;
            border-radius: 12px;
            box-shadow: 0 5px 15px rgba(40, 167, 69, 0.3);
            z-index: 1001;
            transform: translateX(400px);
            transition: transform 0.3s ease;
            max-width: 350px;
            animation: neonPulse 2s infinite;
        }

        .notification.show {
            transform: translateX(0);
        }

        .notification.error {
            background: linear-gradient(135deg, var(--error-color), #c82333);
            box-shadow: 0 5px 15px rgba(220, 53, 69, 0.3);
        }

        .notification.info {
            background: linear-gradient(135deg, var(--primary-blue), #1e7e34);
            box-shadow: 0 5px 15px rgba(52, 152, 219, 0.3);
        }

        /* —— LOADING SYSTEM —— */
        .loading {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.9);
            z-index: 9999;
            justify-content: center;
            align-items: center;
            backdrop-filter: blur(5px);
        }

        .loading-spinner {
            width: 50px;
            height: 50px;
            border: 5px solid rgba(255, 119, 0, 0.3);
            border-top: 5px solid var(--primary-orange);
            border-radius: 50%;
            animation: spin 1s linear infinite;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        .loading-text {
            color: var(--primary-orange);
            margin-top: 20px;
            font-size: 18px;
            text-align: center;
            animation: luminousGlow 2s infinite;
        }

        /* Update notification - REDESIGNED */
        .update-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.85);
            z-index: 2000;
            display: none;
            align-items: center;
            justify-content: center;
            backdrop-filter: blur(5px);
        }

        .update-container {
            background: var(--bg-section);
            border-radius: 15px;
            padding: 30px;
            text-align: center;
            max-width: 450px;
            box-shadow: 0 10px 40px rgba(0, 0, 0, 0.5);
            border: 2px solid var(--primary-orange);
            animation: scaleIn 0.5s cubic-bezier(0.34, 1.56, 0.64, 1), neonPulse 3s infinite;
            position: relative;
            overflow: hidden;
        }
        
        .update-container::before {
            content: "";
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: radial-gradient(circle at 50% 50%, rgba(255, 119, 0, 0.2), transparent 70%);
            z-index: -1;
            animation: cosmicBackground 15s linear infinite;
        }

        .update-title {
            color: var(--primary-orange);
            font-size: 24px;
            margin-bottom: 15px;
            text-shadow: var(--shadow-glow) rgba(255, 119, 0, 0.5);
            animation: luminousGlow 2s infinite;
        }

        .update-text {
            margin-bottom: 25px;
            color: white;
            line-height: 1.5;
        }

        .update-btn {
            background: linear-gradient(135deg, var(--primary-orange), #ff9900);
            color: white;
            border: none;
            padding: 12px 25px;
            border-radius: 8px;
            cursor: pointer;
            font-weight: bold;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }
        
        .update-btn::before {
            content: "";
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.2), transparent);
            transition: left 0.5s;
        }
        
        .update-btn:hover::before {
            left: 100%;
        }

        .update-btn:hover {
            background: linear-gradient(135deg, #ff9900, #ffaa00);
            transform: scale(1.05);
            box-shadow: 0 5px 15px rgba(255, 119, 0, 0.4);
        }

        /* Settings tabs */
        .settings-tabs {
            display: flex;
            gap: 10px;
            margin-bottom: 20px;
            overflow-x: auto;
            padding-bottom: 10px;
        }
        
        .setting-tab {
            background: rgba(52, 152, 219, 0.2);
            color: white;
            border: none;
            padding: 10px 15px;
            border-radius: 8px;
            cursor: pointer;
            font-weight: bold;
            transition: all 0.3s ease;
            white-space: nowrap;
        }
        
        .setting-tab:hover {
            background: rgba(52, 152, 219, 0.4);
            transform: translateY(-2px);
        }
        
        .setting-tab.active {
            background: linear-gradient(135deg, var(--primary-blue), #2980b9);
            box-shadow: var(--shadow-glow) rgba(52, 152, 219, 0.3);
        }
        
        /* Accessibility options */
        .accessibility-option {
            padding: 15px;
            background: rgba(15, 15, 26, 0.4);
            border-radius: 8px;
            margin: 10px 0;
            transition: all 0.3s ease;
        }
        
        .accessibility-option:hover {
            background: rgba(15, 15, 26, 0.6);
            transform: translateY(-2px);
        }
        
        .font-size-buttons {
            display: flex;
            gap: 10px;
            margin-top: 10px;
        }
        
        .font-btn {
            background: rgba(52, 152, 219, 0.2);
            border: none;
            padding: 8px 12px;
            border-radius: 6px;
            color: white;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .font-btn:hover {
            background: rgba(52, 152, 219, 0.4);
        }
        
        .font-btn.active {
            background: linear-gradient(135deg, var(--primary-blue), #2980b9);
            box-shadow: var(--shadow-glow) rgba(52, 152, 219, 0.3);
        }
        
        /* —— RESPONSIVE DESIGN —— */
        @media (max-width: 768px) {
            .user-panel, .help-dropdown, .language-dropdown {
                position: relative;
                top: auto;
                left: auto;
                right: auto;
                display: inline-block;
                margin: 10px;
            }

            h1 {
                font-size: 2.5rem;
            }

            .chatbot-container {
                width: 340px;
                height: 600px;
                right: -10px;
            }

            .modal-content, .auth-content, .settings-content {
                margin: 20px;
                padding: 30px;
            }

            .download-container {
                flex-direction: column;
                align-items: stretch;
            }

            .btn {
                text-align: center;
                margin: 10px 0;
            }

            .auth-content, .settings-content {
                max-width: 90%;
                padding: 30px 20px;
            }

            .avatar-grid {
                grid-template-columns: repeat(3, 1fr);
            }
        }

        /* Ukrywanie elementów dla różnych języków */
        html[lang="pl"] .lang-en {
            display: none;
        }
        
        html[lang="en"] .lang-pl {
            display: none;
        }

        /* User status indicator */
        .user-status {
            display: inline-block;
            width: 10px;
            height: 10px;
            border-radius: 50%;
            background: var(--success-color);
            margin-left: 8px;
            animation: pulse 2s infinite;
        }

        .user-status.offline {
            background: var(--error-color);
        }

        .switch {
            position: relative;
            display: inline-block;
            width: 50px;
            height: 24px;
        }

        .switch input {
            opacity: 0;
            width: 0;
            height: 0;
        }

        .slider {
            position: absolute;
            cursor: pointer;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-color: rgba(0, 0, 0, 0.3);
            transition: 0.4s;
        }

        .slider:before {
            position: absolute;
            content: "";
            height: 16px;
            width: 16px;
            left: 4px;
            bottom: 4px;
            background-color: white;
            transition: 0.4s;
        }

        input:checked + .slider {
            background-color: var(--primary-blue);
        }

        input:checked + .slider:before {
            transform: translateX(26px);
        }

        .slider.round {
            border-radius: 34px;
        }

        .slider.round:before {
            border-radius: 50%;
        }
        
        @keyframes fadeIn {
            from {opacity: 0;}
            to {opacity: 1;}
        }
    </style>
    <script>
        // Version control
        const APP_VERSION = '1.5.0';
        const LAST_VERSION_KEY = 'last_version_seen';

        // —— NEW CLEAN DATABASE SYSTEM —— 
        class GameDatabase {
            constructor() {
                this.users = [];
                this.loadFromStorage();
                if (this.users.length === 0) {
                    this.initializeDefaultUsers();
                }
            }

            initializeDefaultUsers() {
                // Only add the default admin user
                this.users = [{
                    id: 1,
                    username: 'admin',
                    password: this.hashPassword('admin123'),
                    birthdate: '1990-01-01',
                    registrationDate: '2025-05-25T08:31:00.000Z',
                    lastLogin: null,
                    isAdmin: true,
                    status: 'active',
                    avatar: 'data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyNTYgMjU2Ij48cmVjdCB3aWR0aD0iMjU2IiBoZWlnaHQ9IjI1NiIgZmlsbD0iIzZiNDZjMSIvPjxwYXRoIGQ9Ik0xMjggNjRjLTE3LjcgMC0zMiAxNC4zLTMyIDMydjMyYzAgMTcuNyAxNC4zIDMyIDMyIDMyIDE3LjcgMCAzMi0xNC4zIDMyLTMyVjk2YzAtMTcuNy0xNC4zLTMyLTMyLTMyek04MiAxNjhjLTIzLjIgMTAuMi00MCAzMy41LTQwIDYwLjl2MTUuMmMwIDMuMyAyLjcgNiA2IDZoMTYwYzMuMyAwIDYtMi43IDYtNnYtMTUuMmMwLTI3LjQtMTYuOC01MC42LTQwLTYxVjE2NGMwLTQuNC0zLjYtOC04LThzLTggMy42LTggOHY0LjFjLTggMi44LTE2LjYgNC4zLTI0IDQuM3MtMTYuMS0xLjUtMjQtNC4zVjE2NGMwLTQuNC0zLjYtOC04LThzLTggMy42LTggOHY0eiIgZmlsbD0iI2ZmZiIvPjwvc3ZnPg==',
                    preferences: {
                        theme: 'orange',
                        notifications: true,
                        highContrast: false,
                        fontSize: 'medium',
                        musicVolume: 80,
                        sfxVolume: 70,
                        difficulty: 'normal',
                        autoSave: true
                    }
                }];
                this.saveToStorage();
            }

            loadFromStorage() {
                try {
                    const usersJson = localStorage.getItem('gameDB_users_v2');
                    if (usersJson) {
                        this.users = JSON.parse(usersJson);
                    }
                } catch (error) {
                    console.error("Error loading from localStorage:", error);
                    this.users = [];
                }
            }

            hashPassword(password) {
                let hash = 0;
                if (password.length === 0) return hash.toString();
                for (let i = 0; i < password.length; i++) {
                    const char = password.charCodeAt(i);
                    hash = ((hash << 5) - hash) + char;
                    hash = hash & hash;
                }
                return Math.abs(hash).toString();
            }

            saveToStorage() {
                try {
                    const usersJson = JSON.stringify(this.users);
                    localStorage.setItem('gameDB_users_v2', usersJson);
                } catch (error) {
                    console.error("Error saving to localStorage:", error);
                }
            }

            registerUser(userData) {
                const { username, password, birthdate, avatar } = userData;
                
                if (!username || !password || !birthdate) {
                    throw new Error('Wszystkie pola są wymagane / All fields are required');
                }

                // Check if username already exists
                const existingUser = this.users.find(user => user.username.toLowerCase() === username.toLowerCase());
                if (existingUser) {
                    throw new Error('Nazwa użytkownika już istnieje / Username already exists');
                }

                const birth = new Date(birthdate);
                const today = new Date();
                let age = today.getFullYear() - birth.getFullYear();
                const monthDiff = today.getMonth() - birth.getMonth();
                
                if (monthDiff < 0 || (monthDiff === 0 && today.getDate() < birth.getDate())) {
                    age--;
                }

                if (age < 13) {
                    throw new Error('Musisz mieć co najmniej 13 lat / You must be at least 13 years old');
                }

                if (password.length < 6) {
                    throw new Error('Hasło musi mieć co najmniej 6 znaków / Password must be at least 6 characters');
                }

                // Use default gaming avatar if none provided
                const defaultAvatar = avatarOptions[0];

                const newUser = {
                    id: Date.now(),
                    username: username.trim(),
                    password: this.hashPassword(password),
                    birthdate: birthdate,
                    registrationDate: new Date().toISOString(),
                    lastLogin: null,
                    isAdmin: false,
                    status: 'active',
                    avatar: avatar || defaultAvatar,
                    preferences: {
                        theme: 'orange',
                        notifications: true,
                        highContrast: false,
                        fontSize: 'medium',
                        musicVolume: 80,
                        sfxVolume: 70,
                        difficulty: 'normal',
                        autoSave: true
                    }
                };

                this.users.push(newUser);
                this.saveToStorage();
                
                return { success: true, user: newUser };
            }

            loginUser(username, password) {
                if (!username || !password) {
                    throw new Error('Nazwa użytkownika i hasło są wymagane / Username and password are required');
                }
                
                const user = this.users.find(u => u.username.toLowerCase() === username.toLowerCase());
                if (!user) {
                    throw new Error('Użytkownik nie istnieje / User does not exist');
                }

                const hashedPassword = this.hashPassword(password);
                if (user.password !== hashedPassword) {
                    throw new Error('Nieprawidłowe hasło / Invalid password');
                }

                if (user.status !== 'active') {
                    throw new Error('Konto jest zablokowane / Account is blocked');
                }

                user.lastLogin = new Date().toISOString();
                this.saveToStorage();

                return { success: true, user: user };
            }
            
            verifyPassword(userId, password) {
                const user = this.users.find(u => u.id === userId);
                if (!user) {
                    return false;
                }
                
                const hashedPassword = this.hashPassword(password);
                return user.password === hashedPassword;
            }

            updateUser(userId, updateData) {
                const userIndex = this.users.findIndex(u => u.id === userId);
                if (userIndex === -1) {
                    throw new Error('Użytkownik nie znaleziony / User not found');
                }

                // Handle preferences separately to merge with existing preferences
                if (updateData.preferences) {
                    this.users[userIndex].preferences = {
                        ...this.users[userIndex].preferences,
                        ...updateData.preferences
                    };
                    delete updateData.preferences;
                }

                this.users[userIndex] = { ...this.users[userIndex], ...updateData };
                this.saveToStorage();
                return { success: true, user: this.users[userIndex] };
            }

            deleteUser(userId) {
                const userIndex = this.users.findIndex(u => u.id === userId);
                if (userIndex === -1) {
                    throw new Error('Użytkownik nie znaleziony / User not found');
                }

                this.users.splice(userIndex, 1);
                this.saveToStorage();
                return { success: true };
            }

            getUserStats() {
                return {
                    totalUsers: this.users.length,
                    activeUsers: this.users.filter(u => u.status === 'active').length,
                    adminUsers: this.users.filter(u => u.isAdmin).length
                };
            }
            
            getAllUsers() {
                return this.users.map(user => ({
                    username: user.username,
                    registrationDate: user.registrationDate,
                    lastLogin: user.lastLogin,
                    status: user.status,
                    isAdmin: user.isAdmin
                }));
            }
        }

        // —— AVATAR SYSTEM —— 
        // Gaming-themed avatars from internet
        const avatarOptions = [
            'https://i.imgur.com/6YH4tqM.png', // Gaming avatar 1
            'https://i.imgur.com/8BGJ7gG.png', // Gaming avatar 2
            'https://i.imgur.com/LYJ8QZA.png', // Gaming avatar 3
            'https://i.imgur.com/ZMaIBXD.png', // Gaming avatar 4
            'https://i.imgur.com/8vJvwsq.png', // Gaming avatar 5
            'https://i.imgur.com/wRccCjg.png', // Gaming avatar 6
            'https://i.imgur.com/oyAHtiZ.png', // Gaming avatar 7
            'https://i.imgur.com/kSvsDfj.png', // Gaming avatar 8
            'https://i.imgur.com/uJCK0gx.png', // Gaming avatar 9
            'https://i.imgur.com/SXs8VKP.png', // Gaming avatar 10
            'https://i.imgur.com/dBYUsVc.png', // Gaming avatar 11
            'https://i.imgur.com/1EzXqED.png'  // Gaming avatar 12
        ];

        // Global variables
        let gameDB = null;
        let currentUser = null;
        let downloadAttempts = 0;
        const maxDownloads = 5;
        const downloadCooldown = 30000;
        let isInitialized = false;
        let wasVisitedBefore = false;
        let selectedAvatar = avatarOptions[0];

        // —— AUTHENTICATION FUNCTIONS —— 
        function initializeSystem() {
            try {
                if (isInitialized && gameDB) {
                    console.log("System already initialized");
                    return true;
                }
                
                wasVisitedBefore = localStorage.getItem('visited_before') === 'true';
                localStorage.setItem('visited_before', 'true');
                
                gameDB = new GameDatabase();
                checkLoginStatus();
                
                console.log(`System initialized at: ${new Date().toISOString()}`);
                console.log(`Database contains ${gameDB.users.length} users`);
                console.log(`Current user: ${currentUser?.username || 'Not logged in'}`);
                
                // Check for app updates - only for returning users
                checkForUpdates();
                isInitialized = true;
                
                // Initialize avatar grid
                initializeAvatarGrid();
                
                // Hide the loading spinner after initialization
                hideLoading();
                
                return true;
            } catch (error) {
                console.error("Failed to initialize system:", error);
                showNotification(
                    "Błąd inicjalizacji systemu. Odśwież stronę.",
                    "System initialization error. Refresh the page.",
                    "error"
                );
                hideLoading();
                return false;
            }
        }
        
        // Initialize avatar grid separately to fix loading issues
        function initializeAvatarGrid() {
            try {
                const avatarGrid = document.getElementById('avatarGrid');
                if (avatarGrid) {
                    avatarGrid.innerHTML = ''; // Clear first to prevent duplicates
                    avatarOptions.forEach((avatar, index) => {
                        const avatarDiv = document.createElement('div');
                        avatarDiv.className = 'avatar-option';
                        if (index === 0) avatarDiv.classList.add('selected');
                        
                        // Use direct image URL for more reliable loading
                        avatarDiv.innerHTML = `<img src="${avatar}" alt="Gaming Avatar ${index + 1}" onerror="this.src='https://i.imgur.com/kddRqG8.png'">`;
                        avatarDiv.onclick = function() { selectAvatar(avatar, this); };
                        avatarGrid.appendChild(avatarDiv);
                    });
                }
                
                // Also initialize settings avatar grid
                const settingsAvatarGrid = document.getElementById('settingsAvatarGrid');
                if (settingsAvatarGrid) {
                    settingsAvatarGrid.innerHTML = '';
                    avatarOptions.forEach((avatar, index) => {
                        const avatarDiv = document.createElement('div');
                        avatarDiv.className = 'avatar-option';
                        if (currentUser && currentUser.avatar === avatar) {
                            avatarDiv.classList.add('selected');
                        }
                        avatarDiv.innerHTML = `<img src="${avatar}" alt="Gaming Avatar ${index + 1}" onerror="this.src='https://i.imgur.com/kddRqG8.png'">`;
                        avatarDiv.onclick = function() { updateUserAvatar(avatar, this); };
                        settingsAvatarGrid.appendChild(avatarDiv);
                    });
                }
            } catch (error) {
                console.error("Error initializing avatar grid:", error);
            }
        }

        function checkForUpdates() {
            const lastVersionSeen = localStorage.getItem(LAST_VERSION_KEY) || '1.0.0';
            
            // Only show update notification if:
            // 1. User has visited the site before
            // 2. They are on an older version
            if (wasVisitedBefore && lastVersionSeen !== APP_VERSION) {
                showUpdateNotification();
            } else {
                // Update the stored version without notification for new users
                localStorage.setItem(LAST_VERSION_KEY, APP_VERSION);
            }
        }
        
        function showUpdateNotification() {
            // Use the centered overlay style
            const updateOverlay = document.getElementById('updateOverlay');
            
            if (updateOverlay) {
                const currentLang = document.documentElement.lang;
                const title = document.querySelector('.update-title');
                const text = document.querySelector('.update-text');
                const button = document.querySelector('.update-btn');
                
                if (title) title.textContent = currentLang === 'pl' ? 'Nowa wersja dostępna!' : 'New version available!';
                if (text) text.textContent = currentLang === 'pl' 
                    ? `Dostępna jest nowa wersja (${APP_VERSION}). Odśwież stronę, aby korzystać z najnowszych funkcji.`
                    : `A new version (${APP_VERSION}) is available. Refresh the page to use the latest features.`;
                if (button) button.textContent = currentLang === 'pl' ? 'Odśwież stronę' : 'Refresh page';
                
                updateOverlay.style.display = 'flex';
            }
        }
        
        function updateApp() {
            localStorage.setItem(LAST_VERSION_KEY, APP_VERSION);
            window.location.reload(true);
        }

        function checkLoginStatus() {
            const savedUser = localStorage.getItem('currentUser');
            if (savedUser) {
                try {
                    const userData = JSON.parse(savedUser);
                    const dbUser = gameDB.users.find(u => u.id === userData.id);
                    if (dbUser && dbUser.status === 'active') {
                        currentUser = dbUser;
                        updateUserInterface();
                    } else {
                        localStorage.removeItem('currentUser');
                    }
                } catch (e) {
                    localStorage.removeItem('currentUser');
                }
            }
        }

        function openAuthModal() {
            if (!isInitialized) {
                if (!initializeSystem()) {
                    showNotification(
                        "Nie można otworzyć logowania. System nie zainicjalizowany.",
                        "Cannot open login. System not initialized.",
                        "error"
                    );
                    return;
                }
            }
            
            const authModal = document.getElementById('authModal');
            if (authModal) {
                authModal.style.display = 'block';
                document.body.style.overflow = 'hidden';
            }
            
            switchAuthTab('login');
            
            // Make sure avatar grid is initialized
            setTimeout(initializeAvatarGrid, 300);
        }

        function closeAuthModal() {
            const authModal = document.getElementById('authModal');
            if (authModal) {
                authModal.style.display = 'none';
                document.body.style.overflow = 'auto';
            }
            clearAuthForms();
        }

        function switchAuthTab(tab) {
            document.querySelectorAll('.auth-tab').forEach(t => t.classList.remove('active'));
            const tabEl = document.getElementById(tab + 'Tab');
            if (tabEl) tabEl.classList.add('active');
            
            document.querySelectorAll('.auth-form, .avatar-selection').forEach(f => f.classList.remove('active'));
            const formEl = document.getElementById(tab + 'Form');
            if (formEl) formEl.classList.add('active');
            
            clearAuthForms();
        }

        function showAvatarSelection() {
            document.querySelectorAll('.auth-form').forEach(f => f.classList.remove('active'));
            const avatarSelection = document.getElementById('avatarSelection');
            if (avatarSelection) avatarSelection.classList.add('active');
            
            // Update tab to show avatar selection
            document.querySelectorAll('.auth-tab').forEach(t => t.classList.remove('active'));
            const avatarTab = document.getElementById('avatarTab');
            if (avatarTab) {
                avatarTab.style.display = 'block';
                avatarTab.classList.add('active');
            }
            
            // Make sure avatar grid is initialized
            initializeAvatarGrid();
        }

        function selectAvatar(avatarUrl, element) {
            selectedAvatar = avatarUrl;
            document.querySelectorAll('.avatar-option').forEach(option => option.classList.remove('selected'));
            if (element) {
                element.classList.add('selected');
            } else if (event && event.target) {
                event.target.closest('.avatar-option').classList.add('selected');
            }
        }

        function completeRegistration() {
            if (!isInitialized) {
                if (!initializeSystem()) {
                    showNotification(
                        "Nie można dokończyć rejestracji. System nie zainicjalizowany.",
                        "Cannot complete registration. System not initialized.",
                        "error"
                    );
                    return;
                }
            }
            
            const username = document.getElementById('registerUsername').value.trim();
            const password = document.getElementById('registerPassword').value;
            const birthdate = document.getElementById('registerBirthdate').value;
            
            if (!selectedAvatar) {
                selectedAvatar = avatarOptions[0];
            }
            
            showLoading('Tworzenie konta... / Creating account...');
            
            try {
                const result = gameDB.registerUser({
                    username: username,
                    password: password,
                    birthdate: birthdate,
                    avatar: selectedAvatar
                });
                
                if (result.success) {
                    currentUser = result.user;
                    
                    localStorage.setItem('currentUser', JSON.stringify({
                        id: currentUser.id,
                        username: currentUser.username,
                        loginTime: new Date().toISOString()
                    }));
                    
                    updateUserInterface();
                    closeAuthModal();
                    showNotification(
                        `Witaj ${currentUser.username}! Konto zostało utworzone i jesteś zalogowany.`,
                        `Welcome ${currentUser.username}! Account created and you are logged in.`,
                        'success'
                    );
                }
            } catch (error) {
                showNotification(error.message, error.message, 'error');
            } finally {
                hideLoading();
            }
        }

        function clearAuthForms() {
            document.querySelectorAll('.auth-form input').forEach(input => {
                input.value = '';
                input.classList.remove('error', 'success');
            });
            document.querySelectorAll('.form-error, .form-success').forEach(msg => {
                msg.style.display = 'none';
            });
            const strengthEl = document.getElementById('passwordStrength');
            if (strengthEl) {
                strengthEl.style.display = 'none';
            }
            selectedAvatar = avatarOptions[0];
        }

        function validateForm(formId) {
            const form = document.getElementById(formId);
            if (!form) return false;
            
            const inputs = form.querySelectorAll('.form-input[required]');
            let isValid = true;

            inputs.forEach(input => {
                const value = input.value.trim();
                
                if (!value) {
                    showFieldError(input, 'To pole jest wymagane / This field is required');
                    isValid = false;
                } else {
                    hideFieldError(input);
                    
                    if (input.type === 'password' && formId === 'registerForm') {
                        if (value.length < 6) {
                            showFieldError(input, 'Hasło musi mieć co najmniej 6 znaków / Password must be at least 6 characters');
                            isValid = false;
                        }
                    }
                    
                    if (input.type === 'date') {
                        const birthDate = new Date(value);
                        const today = new Date();
                        let age = today.getFullYear() - birthDate.getFullYear();
                        const monthDiff = today.getMonth() - birthDate.getMonth();
                        
                        if (monthDiff < 0 || (monthDiff === 0 && today.getDate() < birthDate.getDate())) {
                            age--;
                        }
                        
                        if (age < 13) {
                            showFieldError(input, 'Musisz mieć co najmniej 13 lat / You must be at least 13 years old');
                            isValid = false;
                        }
                    }
                    
                    if (input.id === 'registerUsername') {
                        if (value.length < 3 || value.length > 20) {
                            showFieldError(input, 'Nazwa użytkownika: 3-20 znaków / Username: 3-20 characters');
                            isValid = false;
                        } else if (gameDB) {
                            // Check if username exists
                            const existingUser = gameDB.users.find(u => u.username.toLowerCase() === value.toLowerCase());
                            if (existingUser) {
                                showFieldError(input, 'Nazwa użytkownika już istnieje / Username already exists');
                                isValid = false;
                            }
                        }
                    }
                }
            });

            return isValid;
        }

        function showFieldError(input, message) {
            input.classList.add('error');
            input.classList.remove('success');
            const errorEl = input.parentNode.querySelector('.form-error');
            if (errorEl) {
                errorEl.textContent = message;
                errorEl.style.display = 'block';
            }
        }

        function hideFieldError(input) {
            input.classList.remove('error');
            input.classList.add('success');
            const errorEl = input.parentNode.querySelector('.form-error');
            if (errorEl) {
                errorEl.style.display = 'none';
            }
        }

        function checkPasswordStrength() {
            const password = document.getElementById('registerPassword');
            if (!password) return;
            
            const passwordValue = password.value;
            const strengthEl = document.getElementById('passwordStrength');
            const fillEl = document.getElementById('strengthFill');
            const textEl = document.getElementById('strengthText');
            
            if (!strengthEl || !fillEl || !textEl) return;
            
            if (passwordValue.length === 0) {
                strengthEl.style.display = 'none';
                return;
            }
            
            strengthEl.style.display = 'block';
            
            let strength = 0;
            let text = '';
            let className = '';
            
            if (passwordValue.length >= 6) strength += 25;
            if (passwordValue.length >= 8) strength += 15;
            if (/[a-z]/.test(passwordValue)) strength += 15;
            if (/[A-Z]/.test(passwordValue)) strength += 15;
            if (/[0-9]/.test(passwordValue)) strength += 15;
            if (/[^A-Za-z0-9]/.test(passwordValue)) strength += 15;
            
            if (strength <= 25) {
                text = 'Słabe / Weak';
                className = 'strength-weak';
            } else if (strength <= 50) {
                text = 'Przeciętne / Fair';
                className = 'strength-fair';
            } else if (strength <= 75) {
                text = 'Dobre / Good';
                className = 'strength-good';
            } else {
                text = 'Silne / Strong';
                className = 'strength-strong';
            }
            
            fillEl.className = 'strength-fill ' + className;
            textEl.textContent = text;
        }

        async function handleLogin(event) {
            event.preventDefault();
            
            if (!isInitialized) {
                if (!initializeSystem()) {
                    showNotification(
                        "Nie można się zalogować. System nie zainicjalizowany.",
                        "Cannot login. System not initialized.",
                        "error"
                    );
                    return;
                }
            }
            
            if (!validateForm('loginForm')) return;
            
            const username = document.getElementById('loginUsername').value.trim();
            const password = document.getElementById('loginPassword').value;
            
            showLoading('Logowanie... / Logging in...');
            
            try {
                await new Promise(resolve => setTimeout(resolve, 1000));
                
                if (!gameDB) {
                    throw new Error('System nie został zainicjalizowany / System not initialized');
                }
                
                const result = gameDB.loginUser(username, password);
                
                if (result.success) {
                    currentUser = result.user;
                    
                    localStorage.setItem('currentUser', JSON.stringify({
                        id: currentUser.id,
                        username: currentUser.username,
                        loginTime: new Date().toISOString()
                    }));
                    
                    updateUserInterface();
                    closeAuthModal();
                    showNotification(
                        `Witaj ${currentUser.username}! Pomyślnie zalogowano.`,
                        `Welcome ${currentUser.username}! Successfully logged in.`,
                        'success'
                    );
                }
            } catch (error) {
                showNotification(error.message, error.message, 'error');
            } finally {
                hideLoading();
            }
        }

        async function handleRegister(event) {
            event.preventDefault();
            
            if (!isInitialized) {
                if (!initializeSystem()) {
                    showNotification(
                        "Nie można się zarejestrować. System nie zainicjalizowany.",
                        "Cannot register. System not initialized.",
                        "error"
                    );
                    return;
                }
            }
            
            if (!validateForm('registerForm')) return;
            
            showLoading('Przechodzenie do wyboru avatara... / Going to avatar selection...');
            
            setTimeout(() => {
                hideLoading();
                showAvatarSelection();
            }, 500);
        }

        function logout() {
            currentUser = null;
            localStorage.removeItem('currentUser');
            updateUserInterface();
            
            showNotification(
                'Pomyślnie wylogowano!',
                'Successfully logged out!',
                'info'
            );
        }

        function updateUserInterface() {
            const loginButton = document.getElementById('loginButton');
            const userInfo = document.getElementById('userInfo');
            
            if (currentUser) {
                if (loginButton) loginButton.style.display = 'none';
                if (userInfo) userInfo.style.display = 'block';
                
                const usernameDisplay = document.getElementById('usernameDisplay');
                if (usernameDisplay) {
                    usernameDisplay.textContent = currentUser.username;
                }
                
                const statusEl = document.getElementById('userStatus');
                if (statusEl) {
                    statusEl.className = 'user-status';
                }
                
                // Update avatar
                const userAvatar = document.querySelector('.user-avatar');
                if (userAvatar && currentUser.avatar) {
                    userAvatar.innerHTML = `<img src="${currentUser.avatar}" alt="Avatar" onerror="this.src='https://i.imgur.com/kddRqG8.png'">`;
                }
                
                // Update settings
                updateSettingsInfo();
                
                document.body.classList.add('user-logged-in');
            } else {
                if (loginButton) loginButton.style.display = 'block';
                if (userInfo) userInfo.style.display = 'none';
                document.body.classList.remove('user-logged-in');
            }
        }

        // —— SETTINGS FUNCTIONS —— 
        function openSettings() {
            if (!isInitialized) {
                if (!initializeSystem()) {
                    showNotification(
                        "Nie można otworzyć ustawień. System nie zainicjalizowany.",
                        "Cannot open settings. System not initialized.",
                        "error"
                    );
                    return;
                }
            }
            
            document.getElementById('settingsModal').style.display = 'block';
            document.body.style.overflow = 'hidden';
            updateSettingsInfo();
            showSettingsTab('profile');
        }
        
        // Show specific settings tab
        function showSettingsTab(tabId) {
            // First hide all sections
            document.querySelectorAll('.setting-tab').forEach(tab => {
                tab.classList.remove('active');
            });
            document.querySelectorAll('.settings-section').forEach(section => {
                section.style.display = 'none';
            });
            
            // Then show the selected one
            document.getElementById(tabId + 'Tab').classList.add('active');
            document.getElementById(tabId + 'Section').style.display = 'block';
        }

        function updateSettingsInfo() {
            if (!currentUser) return;
            
            const usernameEls = document.querySelectorAll('#settingsUsername');
            const regDateEls = document.querySelectorAll('#settingsRegDate');
            const lastLoginEls = document.querySelectorAll('#settingsLastLogin');
            
            usernameEls.forEach(el => {
                if (el) el.textContent = currentUser.username;
            });
            
            regDateEls.forEach(el => {
                if (el) el.textContent = new Date(currentUser.registrationDate).toLocaleDateString();
            });
            
            lastLoginEls.forEach(el => {
                if (el) {
                    el.textContent = currentUser.lastLogin ? 
                        new Date(currentUser.lastLogin).toLocaleDateString() : 
                        (document.documentElement.lang === 'pl' ? 'Pierwsze logowanie' : 'First login');
                }
            });
            
            // Update preferences in UI
            if (currentUser.preferences) {
                // Update theme selection
                document.querySelectorAll('.theme-option').forEach(option => {
                    option.classList.remove('selected');
                });
                const selectedTheme = document.querySelector(`.theme-${currentUser.preferences.theme}`);
                if (selectedTheme) selectedTheme.classList.add('selected');
                
                // Update font size
                const fontSize = currentUser.preferences.fontSize || 'medium';
                document.querySelectorAll('.font-btn').forEach(btn => {
                    btn.classList.remove('active');
                });
                const fontBtn = document.getElementById(`font${fontSize.charAt(0).toUpperCase() + fontSize.slice(1)}`);
                if (fontBtn) fontBtn.classList.add('active');
                
                // Update other toggles
                const toggles = {
                    'notificationsToggle': 'notifications',
                    'highContrastToggle': 'highContrast',
                    'autoSaveToggle': 'autoSave'
                };
                
                Object.entries(toggles).forEach(([elementId, preferenceKey]) => {
                    const toggle = document.getElementById(elementId);
                    if (toggle && currentUser.preferences[preferenceKey] !== undefined) {
                        toggle.checked = currentUser.preferences[preferenceKey];
                    }
                });
            }
            
            // Refresh avatar grid
            initializeAvatarGrid();
        }

        function closeSettings() {
            document.getElementById('settingsModal').style.display = 'none';
            document.body.style.overflow = 'auto';
            hideCaptchaChallenge();
        }

        function changeAvatar() {
            if (!isInitialized || !gameDB) {
                if (!initializeSystem()) {
                    showNotification(
                        "Nie można zmienić avatara. System nie zainicjalizowany.",
                        "Cannot change avatar. System not initialized.",
                        "error"
                    );
                    return;
                }
            }
            
            // Show avatar selection in settings
            const avatarGrid = document.getElementById('settingsAvatarGrid');
            if (!avatarGrid) return;
            
            avatarGrid.style.display = avatarGrid.style.display === 'none' ? 'grid' : 'none';
            
            if (avatarGrid.style.display === 'grid') {
                initializeAvatarGrid();
            }
        }

        function updateUserAvatar(newAvatar, element) {
            if (!currentUser || !gameDB) return;
            
            try {
                const result = gameDB.updateUser(currentUser.id, { avatar: newAvatar });
                if (result.success) {
                    currentUser.avatar = newAvatar;
                    updateUserInterface();
                    
                    // Update selection in settings
                    document.querySelectorAll('#settingsAvatarGrid .avatar-option').forEach(option => {
                        option.classList.remove('selected');
                    });
                    
                    if (element) {
                        element.classList.add('selected');
                    } else if (event && event.target) {
                        event.target.closest('.avatar-option').classList.add('selected');
                    }
                    
                    showNotification(
                        'Avatar został zmieniony!',
                        'Avatar has been changed!',
                        'success'
                    );
                }
            } catch (error) {
                showNotification(error.message, error.message, 'error');
            }
        }
        
        // Update user preferences
        function updateUserPreference(key, value) {
            if (!currentUser || !gameDB) return;
            
            try {
                const preferences = { ...currentUser.preferences };
                preferences[key] = value;
                
                const result = gameDB.updateUser(currentUser.id, { preferences });
                if (result.success) {
                    currentUser.preferences = preferences;
                    updateSettingsInfo();
                    
                    showNotification(
                        'Ustawienia zostały zaktualizowane!',
                        'Settings have been updated!',
                        'success'
                    );
                }
            } catch (error) {
                showNotification(error.message, error.message, 'error');
            }
        }
        
        // Update theme
        function changeTheme(theme) {
            if (!currentUser) return;
            updateUserPreference('theme', theme);
            
            document.querySelectorAll('.theme-option').forEach(option => {
                option.classList.remove('selected');
            });
            
            if (event && event.target) {
                event.target.closest('.theme-option').classList.add('selected');
            }
        }
        
        // Update font size
        function changeFontSize(size) {
            if (!currentUser) return;
            updateUserPreference('fontSize', size);
            
            document.querySelectorAll('.font-btn').forEach(btn => {
                btn.classList.remove('active');
            });
            
            if (event && event.target) {
                event.target.classList.add('active');
            }
        }

        function showDeleteConfirmation() {
            const captchaEl = document.getElementById('captchaChallenge');
            if (!captchaEl) return;
            
            captchaEl.style.display = 'block';
            
            // Generate CAPTCHA code
            const captchaCode = generateCaptchaCode();
            const codeEl = document.getElementById('captchaCode');
            if (codeEl) codeEl.textContent = captchaCode;
            
            const captchaInput = document.getElementById('captchaInput');
            if (captchaInput) captchaInput.value = '';
            
            const deletePassword = document.getElementById('deletePassword');
            if (deletePassword) deletePassword.value = '';
        }
        
        function hideCaptchaChallenge() {
            const captchaEl = document.getElementById('captchaChallenge');
            if (captchaEl) captchaEl.style.display = 'none';
        }
        
        function generateCaptchaCode() {
            const chars = '0123456789';
            let code = '';
            for (let i = 0; i < 6; i++) {
                code += chars[Math.floor(Math.random() * chars.length)];
            }
            return code;
        }
        
        function confirmDeleteAccount() {
            if (!currentUser || !gameDB) {
                if (!initializeSystem()) {
                    showNotification(
                        "Nie można usunąć konta. System nie zainicjalizowany.",
                        "Cannot delete account. System not initialized.",
                        "error"
                    );
                    return;
                }
            }
            
            const captchaInput = document.getElementById('captchaInput').value;
            const captchaCode = document.getElementById('captchaCode').textContent;
            const password = document.getElementById('deletePassword').value;
            
            if (captchaInput !== captchaCode) {
                showNotification(
                    'Nieprawidłowy kod CAPTCHA!',
                    'Invalid CAPTCHA code!',
                    'error'
                );
                return;
            }
            
            if (!gameDB.verifyPassword(currentUser.id, password)) {
                showNotification(
                    'Nieprawidłowe hasło!',
                    'Invalid password!',
                    'error'
                );
                return;
            }
            
            try {
                gameDB.deleteUser(currentUser.id);
                logout();
                closeSettings();
                showNotification(
                    'Konto zostało usunięte.',
                    'Account has been deleted.',
                    'info'
                );
            } catch (error) {
                showNotification(error.message, error.message, 'error');
            }
        }

        // —— DOWNLOAD SYSTEM —— 
        function checkDownload(event) {
            if (!isInitialized) {
                if (!initializeSystem()) {
                    event.preventDefault();
                    showNotification(
                        'System jest inicjalizowany, spróbuj ponownie za chwilę.',
                        'System is being initialized, try again in a moment.',
                        'info'
                    );
                    return false;
                }
            }

            if (!currentUser) {
                event.preventDefault();
                const currentLang = document.documentElement.lang;
                const message = currentLang === 'pl' ? 
                    'Musisz się zalogować aby pobrać grę!' : 
                    'You must login to download the game!';
                showNotification(message, message, 'error');
                openAuthModal();
                return false;
            }

            if (downloadAttempts >= maxDownloads) {
                event.preventDefault();
                const currentLang = document.documentElement.lang;
                const message = currentLang === 'pl' ? 
                    `Zbyt wiele prób pobierania. Poczekaj ${Math.ceil(downloadCooldown/1000)} sekund.` : 
                    `Too many download attempts. Wait ${Math.ceil(downloadCooldown/1000)} seconds.`;
                showNotification(message, message, 'error');
                return false;
            }

            downloadAttempts++;
            setTimeout(() => {
                downloadAttempts = Math.max(0, downloadAttempts - 1);
            }, downloadCooldown);

            console.log(`Download initiated by user: ${currentUser.username} at ${new Date().toISOString()}`);
            
            setTimeout(() => {
                const currentLang = document.documentElement.lang;
                const message = currentLang === 'pl' ? 
                    'Pobieranie rozpoczęte! Sprawdź folder Pobrane.' : 
                    'Download started! Check your Downloads folder.';
                showNotification(message, message, 'success');
            }, 500);

            return true;
        }

        // —— ENHANCED AI CHATBOT —— 
        function toggleChatbot() {
            if (!isInitialized) {
                if (!initializeSystem()) {
                    showNotification(
                        'System jest inicjalizowany, spróbuj ponownie za chwilę.',
                        'System is being initialized, try again in a moment.',
                        'info'
                    );
                    return;
                }
            }

            if (!currentUser) {
                const currentLang = document.documentElement.lang;
                const message = currentLang === 'pl' ? 
                    'Musisz się zalogować aby korzystać z AI!' : 
                    'You must login to use AI assistant!';
                showNotification(message, message, 'error');
                openAuthModal();
                return;
            }
            
            const container = document.getElementById('chatbotContainer');
            if (!container) return;
            
            const isVisible = container.style.display === 'flex';
            container.style.display = isVisible ? 'none' : 'flex';
            
            const helpDropdown = document.getElementById('helpDropdownContent');
            const helpBtn = document.getElementById('helpDropdownBtn');
            if (helpDropdown) helpDropdown.style.display = 'none';
            if (helpBtn) helpBtn.classList.remove('active');
        }

        function closeChatbot() {
            const container = document.getElementById('chatbotContainer');
            if (container) {
                container.style.display = 'none';
            }
        }

        function clearChatbotResponses() {
            const messagesContainer = document.getElementById('chatbotMessages');
            if (messagesContainer) {
                const responses = messagesContainer.querySelectorAll('.ai-response');
                responses.forEach(response => response.remove());
            }
        }

        // AI responses for different question types
        const aiResponses = {
            // REGISTRATION & LOGIN
            'registration-help': {
                pl: `<strong>🤖 Jak założyć konto?</strong><br><br>
                    1. Kliknij przycisk "Zaloguj się" w lewym górnym rogu.<br>
                    2. Przejdź do zakładki "Rejestracja".<br>
                    3. Wypełnij formularz (nazwa użytkownika, data urodzenia, hasło).<br>
                    4. Kliknij "Dalej" i wybierz swój avatar.<br>
                    5. Naciśnij "Zakończ rejestrację".<br><br>
                    <em>Wymagania:</em> Musisz mieć co najmniej 13 lat. Hasło powinno mieć minimum 6 znaków.`,
                
                en: `<strong>🤖 How to create an account?</strong><br><br>
                    1. Click the "Login" button in the top left corner.<br>
                    2. Go to the "Register" tab.<br>
                    3. Fill out the form (username, birth date, password).<br>
                    4. Click "Next" and select your avatar.<br>
                    5. Press "Complete registration".<br><br>
                    <em>Requirements:</em> You must be at least 13 years old. Password should be at least 6 characters long.`
            },
            
            'login-help': {
                pl: `<strong>🤖 Pomoc z logowaniem do konta</strong><br><br>
                    1. Kliknij przycisk "Zaloguj się" w lewym górnym rogu.<br>
                    2. Wprowadź swoją nazwę użytkownika.<br>
                    3. Wprowadź swoje hasło.<br>
                    4. Kliknij przycisk "Zaloguj się".<br><br>
                    <em>Wskazówka:</em> Możesz również używać skrótu klawiszowego Ctrl+L, aby szybko otworzyć panel logowania.`,
                
                en: `<strong>🤖 Help with account login</strong><br><br>
                    1. Click the "Login" button in the top left corner.<br>
                    2. Enter your username.<br>
                    3. Enter your password.<br>
                    4. Click the "Login" button.<br><br>
                    <em>Tip:</em> You can also use the keyboard shortcut Ctrl+L to quickly
                            open the login panel.`
            },
            
            'password-reset': {
                pl: `<strong>🤖 Zapomniałem hasła - jak je odzyskać?</strong><br><br>
                    Niestety, w obecnej wersji aplikacji nie ma zaimplementowanego systemu odzyskiwania hasła. 
                    Ponieważ wszystkie dane są przechowywane lokalnie w Twojej przeglądarce, 
                    nie mamy możliwości weryfikacji i resetowania hasła.<br><br>
                    <em>Zalecenie:</em> Jeśli nie pamiętasz hasła, możesz utworzyć nowe konto. 
                    W przyszłych aktualizacjach planujemy dodać funkcję odzyskiwania hasła.`,
                
                en: `<strong>🤖 Forgot password - how to recover?</strong><br><br>
                    Unfortunately, in the current version of the application there is no implemented password recovery system.
                    Since all data is stored locally in your browser,
                    we have no way to verify and reset your password.<br><br>
                    <em>Recommendation:</em> If you don't remember your password, you can create a new account.
                    In future updates we plan to add a password recovery feature.`
            },
            
            'account-benefits': {
                pl: `<strong>🤖 Korzyści z posiadania konta użytkownika</strong><br><br>
                    1. <strong>Dostęp do pobierania gry</strong> - bez konta nie można pobrać gry Maze.<br>
                    2. <strong>Personalizacja</strong> - możliwość wyboru i zmiany avatara.<br>
                    3. <strong>Zapisywanie preferencji</strong> - Twoje ustawienia są zapisywane między sesjami.<br>
                    4. <strong>Dostęp do AI asystenta</strong> - pełen dostęp do moich funkcji pomocy.<br>
                    5. <strong>Przyszłe funkcje</strong> - w kolejnych aktualizacjach będziemy dodawać więcej korzyści dla zarejestrowanych użytkowników.`,
                
                en: `<strong>🤖 Benefits of having a user account</strong><br><br>
                    1. <strong>Access to game downloads</strong> - without an account you cannot download the Maze game.<br>
                    2. <strong>Personalization</strong> - ability to select and change your avatar.<br>
                    3. <strong>Saving preferences</strong> - your settings are saved between sessions.<br>
                    4. <strong>Access to AI assistant</strong> - full access to my help functions.<br>
                    5. <strong>Future features</strong> - in upcoming updates we will add more benefits for registered users.`
            },
            
            // DOWNLOAD & TECHNICAL
            'download-not-started': {
                pl: `<strong>🤖 Co zrobić gdy pobieranie się nie zaczęło?</strong><br><br>
                    Jeśli pobieranie nie rozpoczęło się, sprawdź następujące elementy:<br><br>
                    1. <strong>Upewnij się, że jesteś zalogowany</strong> - pobieranie wymaga konta użytkownika.<br>
                    2. <strong>Sprawdź blokady wyskakujących okien</strong> - niektóre przeglądarki mogą blokować pobieranie.<br>
                    3. <strong>Limit pobierań</strong> - system pozwala na maksymalnie 5 prób pobierania w ciągu 30 sekund, poczekaj chwilę jeśli przekroczyłeś limit.<br>
                    4. <strong>Wyczyść pamięć podręczną przeglądarki</strong> i spróbuj ponownie.<br>
                    5. <strong>Spróbuj w innej przeglądarce</strong> - czasami pomaga zmiana przeglądarki.`,
                
                en: `<strong>🤖 What to do when download doesn't start?</strong><br><br>
                    If the download hasn't started, check the following:<br><br>
                    1. <strong>Make sure you are logged in</strong> - downloading requires a user account.<br>
                    2. <strong>Check popup blockers</strong> - some browsers might block the download.<br>
                    3. <strong>Download limit</strong> - the system allows a maximum of 5 download attempts within 30 seconds, wait a moment if you've exceeded the limit.<br>
                    4. <strong>Clear your browser cache</strong> and try again.<br>
                    5. <strong>Try a different browser</strong> - sometimes changing browsers helps.`
            },
            
            'file-safety': {
                pl: `<strong>🤖 Czy plik jest bezpieczny?</strong><br><br>
                    Tak, plik jest całkowicie bezpieczny. Wszystkie nasze pliki przechodzą rygorystyczny proces weryfikacji bezpieczeństwa.<br><br>
                    <strong>Dlaczego może pojawić się ostrzeżenie Windows?</strong><br>
                    Windows Defender może wyświetlać ostrzeżenie o nierozpoznanej aplikacji. Dzieje się tak, ponieważ nasz plik nie posiada jeszcze podpisu cyfrowego, co jest standardem dla małych produkcji niezależnych.<br><br>
                    <strong>Co zrobić przy ostrzeżeniu?</strong><br>
                    Kliknij "Więcej informacji" a następnie "Uruchom mimo to". Nasze pliki są regularnie skanowane antywirusowo i są całkowicie bezpieczne.`,
                
                en: `<strong>🤖 Is the file safe/harmful?</strong><br><br>
                    Yes, the file is completely safe. All our files go through a rigorous security verification process.<br><br>
                    <strong>Why might Windows warning appear?</strong><br>
                    Windows Defender may display a warning about an unrecognized application. This happens because our file doesn't yet have a digital signature, which is standard for small independent productions.<br><br>
                    <strong>What to do when warning appears?</strong><br>
                    Click "More info" and then "Run anyway". Our files are regularly scanned with antivirus software and are completely safe.`
            },
            
            'system-requirements': {
                pl: `<strong>🤖 Wymagania systemowe gry Maze</strong><br><br>
                    <strong>Minimalne wymagania:</strong><br>
                    • System: Windows 7/8/10/11 (64-bit)<br>
                    • Procesor: Intel Core i3 lub AMD równoważny<br>
                    • Pamięć RAM: 4 GB<br>
                    • Karta graficzna: DirectX 11 z 1 GB VRAM<br>
                    • Dysk: 500 MB wolnego miejsca<br>
                    • Internet: Nie jest wymagany po pobraniu<br><br>
                    
                    <strong>Zalecane wymagania:</strong><br>
                    • System: Windows 10/11 (64-bit)<br>
                    • Procesor: Intel Core i5 lub AMD równoważny<br>
                    • Pamięć RAM: 8 GB<br>
                    • Karta graficzna: DirectX 11 z 2 GB VRAM<br>
                    • Dysk: 1 GB wolnego miejsca<br>
                    • Internet: Nie jest wymagany po pobraniu`,
                
                en: `<strong>🤖 Maze game system requirements</strong><br><br>
                    <strong>Minimum requirements:</strong><br>
                    • OS: Windows 7/8/10/11 (64-bit)<br>
                    • Processor: Intel Core i3 or AMD equivalent<br>
                    • Memory: 4 GB RAM<br>
                    • Graphics: DirectX 11 with 1 GB VRAM<br>
                    • Storage: 500 MB available space<br>
                    • Internet: Not required after download<br><br>
                    
                    <strong>Recommended requirements:</strong><br>
                    • OS: Windows 10/11 (64-bit)<br>
                    • Processor: Intel Core i5 or AMD equivalent<br>
                    • Memory: 8 GB RAM<br>
                    • Graphics: DirectX 11 with 2 GB VRAM<br>
                    • Storage: 1 GB available space<br>
                    • Internet: Not required after download`
            },
            
            'game-features': {
                pl: `<strong>🤖 Funkcje gry Maze</strong><br><br>
                    Maze to fascynująca gra logiczna z elementami zręcznościowymi, oferująca:<br><br>
                    • <strong>Proceduralne labirynty</strong> - każda gra jest inna dzięki algorytmom generującym unikalne mapy<br>
                    • <strong>Progresywna trudność</strong> - im dalej zajdziesz, tym trudniejsze stają się wyzwania<br>
                    • <strong>System osiągnięć</strong> - zdobywaj odznaki za specjalne wyniki<br>
                    • <strong>Efekty wizualne</strong> - dynamiczne oświetlenie i efekty cząsteczkowe<br>
                    • <strong>Ścieżka dźwiękowa</strong> - immersyjna muzyka dostosowana do intensywności rozgrywki<br>
                    • <strong>Tryb czasu</strong> - sprawdź jak szybko możesz ukończyć labirynt<br>
                    • <strong>Różne widoki kamery</strong> - graj z perspektywy pierwszej lub trzeciej osoby<br>
                    • <strong>System wskazówek</strong> - pomoc, gdy utkniesz w szczególnie trudnym labiryncie`,
                
                en: `<strong>🤖 Maze game features</strong><br><br>
                    Maze is a fascinating logic game with arcade elements, offering:<br><br>
                    • <strong>Procedural mazes</strong> - every game is different thanks to algorithms generating unique maps<br>
                    • <strong>Progressive difficulty</strong> - the further you go, the harder the challenges become<br>
                    • <strong>Achievement system</strong> - earn badges for special results<br>
                    • <strong>Visual effects</strong> - dynamic lighting and particle effects<br>
                    • <strong>Soundtrack</strong> - immersive music adapted to the intensity of gameplay<br>
                    • <strong>Time mode</strong> - check how fast you can complete the maze<br>
                    • <strong>Various camera views</strong> - play from first or third person perspective<br>
                    • <strong>Hint system</strong> - help when you get stuck in a particularly difficult maze`
            },
            
            'technical-support': {
                pl: `<strong>🤖 Wsparcie techniczne i rozwiązywanie problemów</strong><br><br>
                    Przy problemach z grą Maze, spróbuj poniższych kroków:<br><br>
                    1. <strong>Uruchom jako administrator</strong> - kliknij prawym przyciskiem myszy na plik exe i wybierz "Uruchom jako administrator"<br>
                    2. <strong>Sprawdź sterowniki karty graficznej</strong> - upewnij się, że masz najnowsze<br>
                    3. <strong>Wyłącz programy w tle</strong> - szczególnie inne gry lub aplikacje intensywnie korzystające z zasobów<br>
                    4. <strong>Weryfikacja zgodności systemu</strong> - upewnij się, że Twój system spełnia minimalne wymagania<br>
                    5. <strong>Reinstalacja</strong> - spróbuj ponownie pobrać i rozpakować grę<br><br>
                    
                    Jeśli nadal masz problemy, napisz na adres support@mazegame.com z dokładnym opisem problemu.`,
                
                en: `<strong>🤖 Technical support and problem solving</strong><br><br>
                    If you have issues with the Maze game, try the following steps:<br><br>
                    1. <strong>Run as administrator</strong> - right-click on the exe file and select "Run as administrator"<br>
                    2. <strong>Check graphics card drivers</strong> - make sure you have the latest<br>
                    3. <strong>Close background programs</strong> - especially other games or resource-intensive applications<br>
                    4. <strong>System compatibility check</strong> - ensure your system meets the minimum requirements<br>
                    5. <strong>Reinstallation</strong> - try downloading and unpacking the game again<br><br>
                    
                    If you still experience problems, write to support@mazegame.com with a detailed description of the issue.`
            },
            
            // PRIVACY & SETTINGS
            'privacy-security': {
                pl: `<strong>🤖 Ochrona danych osobowych</strong><br><br>
                    Twoje dane są w bezpiecznych rękach! Oto jak je chronimy:<br><br>
                    • <strong>Przechowywanie danych</strong> - wszystkie dane użytkownika są przechowywane lokalnie w Twojej przeglądarce (localStorage)<br>
                    • <strong>Hasła</strong> - wszystkie hasła są haszowane (nie są przechowywane w formie otwartego tekstu)<br>
                    • <strong>Minimalna ilość danych</strong> - zbieramy tylko niezbędne informacje (nazwa użytkownika, data urodzenia, preferencje)<br>
                    • <strong>Brak udostępniania</strong> - nie udostępniamy żadnych danych osobowych stronom trzecim<br>
                    • <strong>Brak śledzenia</strong> - nie używamy zewnętrznych narzędzi śledzących<br><br>
                    
                    Jeśli chcesz usunąć wszystkie swoje dane, możesz to łatwo zrobić w ustawieniach konta.`,
                
                en: `<strong>🤖 Personal data protection</strong><br><br>
                    Your data is in safe hands! Here's how we protect it:<br><br>
                    • <strong>Data storage</strong> - all user data is stored locally in your browser (localStorage)<br>
                    • <strong>Passwords</strong> - all passwords are hashed (not stored as plain text)<br>
                    • <strong>Minimal data</strong> - we only collect necessary information (username, birth date, preferences)<br>
                    • <strong>No sharing</strong> - we do not share any personal data with third parties<br>
                    • <strong>No tracking</strong> - we don't use external tracking tools<br><br>
                    
                    If you want to delete all your data, you can easily do so in your account settings.`
            },
            
            'settings-help': {
                pl: `<strong>🤖 Pomoc z ustawieniami konta</strong><br><br>
                    <strong>Jak zmienić ustawienia konta:</strong><br>
                    1. Zaloguj się na swoje konto<br>
                    2. Kliknij przycisk "Ustawienia" w panelu użytkownika<br>
                    3. Wybierz odpowiednią zakładkę:<br><br>
                    
                    <strong>Dostępne opcje:</strong><br>
                    • <strong>Profil</strong> - podstawowe informacje i zmiana avatara<br>
                    • <strong>Wygląd</strong> - dostosowanie motywu kolorystycznego i języka<br>
                    • <strong>Dostępność</strong> - opcje ułatwień dostępu, rozmiar czcionki<br>
                    • <strong>Strefa zagrożenia</strong> - usuwanie konta<br><br>
                    
                    Wszystkie zmiany są zapisywane automatycznie w pamięci przeglądarki.`,
                
                en: `<strong>🤖 Help with account settings</strong><br><br>
                    <strong>How to change account settings:</strong><br>
                    1. Log in to your account<br>
                    2. Click the "Settings" button in the user panel<br>
                    3. Select the appropriate tab:<br><br>
                    
                    <strong>Available options:</strong><br>
                    • <strong>Profile</strong> - basic information and avatar change<br>
                    • <strong>Appearance</strong> - color theme and language customization<br>
                    • <strong>Accessibility</strong> - accessibility options, font size<br>
                    • <strong>Danger Zone</strong> - account deletion<br><br>
                    
                    All changes are automatically saved in your browser's memory.`
            },
            
            'avatar-customization': {
                pl: `<strong>🤖 Jak zmienić avatar i personalizować profil</strong><br><br>
                    <strong>Zmiana avatara:</strong><br>
                    1. Zaloguj się na swoje konto<br>
                    2. Przejdź do ustawień (przycisk "Ustawienia")<br>
                    3. W sekcji "Profil" kliknij przycisk "Zmień avatar"<br>
                    4. Wybierz jeden z dostępnych gamingowych avatarów<br>
                    5. Kliknij na wybrany avatar aby zatwierdzić zmianę<br><br>
                    
                    <strong>Personalizacja profilu:</strong><br>
                    • Możesz zmienić wygląd interfejsu w zakładce "Wygląd"<br>
                    • Dostosuj rozmiar czcionki w zakładce "Dostępność"<br>
                    • Wszystkie zmiany są zapisywane automatycznie`,
                
                en: `<strong>🤖 How to change avatar and personalize profile</strong><br><br>
                    <strong>Changing avatar:</strong><br>
                    1. Log in to your account<br>
                    2. Go to settings (click "Settings" button)<br>
                    3. In the "Profile" section click the "Change avatar" button<br>
                    4. Choose one of the available gaming avatars<br>
                    5. Click on the selected avatar to confirm the change<br><br>
                    
                    <strong>Profile personalization:</strong><br>
                    • You can change the interface appearance in the "Appearance" tab<br>
                    • Customize font size in the "Accessibility" tab<br>
                    • All changes are saved automatically`
            },
            
            'account-management': {
                pl: `<strong>🤖 Zarządzanie kontem użytkownika</strong><br><br>
                    <strong>Dostępne opcje zarządzania kontem:</strong><br><br>
                    1. <strong>Zmiana avatara</strong> - w sekcji "Profil" w ustawieniach konta<br>
                    2. <strong>Zmiana wyglądu</strong> - personalizacja motywu kolorystycznego i języka w zakładce "Wygląd"<br>
                    3. <strong>Dostępność</strong> - opcje takie jak kontrast i rozmiar czcionki<br>
                    4. <strong>Usuwanie konta</strong> - w strefie zagrożenia (wymaga potwierdzenia hasłem i kodem CAPTCHA)<br><br>
                    
                    <strong>Uwaga:</strong> W obecnej wersji nie ma możliwości zmiany nazwy użytkownika, daty urodzenia ani hasła. Pracujemy nad wdrożeniem tych funkcji w przyszłych aktualizacjach.`,
                
                en: `<strong>🤖 User account management</strong><br><br>
                    <strong>Available account management options:</strong><br><br>
                    1. <strong>Avatar change</strong> - in the "Profile" section of account settings<br>
                    2. <strong>Appearance change</strong> - customize color theme and language in "Appearance" tab<br>
                    3. <strong>Accessibility</strong> - options such as contrast and font size<br>
                    4. <strong>Account deletion</strong> - in the danger zone (requires password confirmation and CAPTCHA code)<br><br>
                    
                    <strong>Note:</strong> In the current version there is no option to change username, birth date or password. We are working on implementing these features in future updates.`
            },
            
            'user-stats': {
                pl: function() {
                    let stats;
                    try {
                        stats = gameDB.getUserStats();
                    } catch (e) {
                        return `<strong>🤖 Statystyki użytkowników niedostępne</strong><br><br>Nie mogę pobrać statystyk w tym momencie. Spróbuj ponownie później.`;
                    }
                    
                    return `<strong>🤖 Statystyki społeczności graczy</strong><br><br>
                        <strong>Aktualne statystyki:</strong><br>
                        • Łączna liczba użytkowników: ${stats.totalUsers}<br>
                        • Aktywni użytkownicy: ${stats.activeUsers}<br>
                        • Administratorzy: ${stats.adminUsers}<br><br>
                        
                        <strong>Co to oznacza?</strong><br>
                        Statystyki pokazują aktualny stan społeczności graczy korzystających z naszej platformy. 
                        Wszystkie konta są przechowywane lokalnie w Twojej przeglądarce.`;
                },
                
                en: function() {
                    let stats;
                    try {
                        stats = gameDB.getUserStats();
                    } catch (e) {
                        return `<strong>🤖 User statistics unavailable</strong><br><br>I cannot retrieve statistics at this moment. Please try again later.`;
                    }
                    
                    return `<strong>🤖 Player community statistics</strong><br><br>
                        <strong>Current statistics:</strong><br>
                        • Total number of users: ${stats.totalUsers}<br>
                        • Active users: ${stats.activeUsers}<br>
                        • Administrators: ${stats.adminUsers}<br><br>
                        
                        <strong>What does this mean?</strong><br>
                        The statistics show the current state of the player community using our platform. 
                        All accounts are stored locally in your browser.`;
                }
            },
            
            // ADDITIONAL QUESTIONS
            'game-modes': {
                pl: `<strong>🤖 Tryby gry w Maze</strong><br><br>
                    <strong>Dostępne tryby gry:</strong><br><br>
                    1. <strong>Tryb kampanii</strong> - rozpocznij przygodę od małych labiryntów, które stopniowo stają się trudniejsze<br>
                    2. <strong>Tryb losowy</strong> - generuj losowe labirynty o wybranym poziomie trudności<br>
                    3. <strong>Tryb czasowy</strong> - sprawdź jak szybko możesz ukończyć labirynt<br>
                    4. <strong>Tryb przetrwania</strong> - jak daleko zajdziesz z ograniczonym czasem?<br>
                    5. <strong>Tryb niestandardowy</strong> - ustaw własne parametry labiryntu<br><br>
                    
                    Każdy tryb oferuje unikalne wyzwania i system nagród!`,
                
                en: `<strong>🤖 Game modes in Maze</strong><br><br>
                    <strong>Available game modes:</strong><br><br>
                    1. <strong>Campaign mode</strong> - start your adventure from small mazes that gradually become more difficult<br>
                    2. <strong>Random mode</strong> - generate random mazes at your chosen difficulty level<br>
                    3. <strong>Time mode</strong> - see how quickly you can complete the maze<br>
                    4. <strong>Survival mode</strong> - how far can you go with limited time?<br>
                    5. <strong>Custom mode</strong> - set your own maze parameters<br><br>
                    
                    Each mode offers unique challenges and reward system!`
            },
            
            'achievements': {
                pl: `<strong>🤖 System osiągnięć w grze</strong><br><br>
                    Gra Maze zawiera rozbudowany system osiągnięć, który nagradza różne style gry i wyzwania.<br><br>
                    <strong>Przykładowe osiągnięcia:</strong><br>
                    • <strong>Pierwszy krok</strong> - Ukończ swój pierwszy labirynt<br>
                    • <strong>Szybkość błyskawicy</strong> - Ukończ labirynt w mniej niż 30 sekund<br>
                    • <strong>Maratończyk</strong> - Przejdź 10 labiryntów pod rząd bez porażki<br>
                    • <strong>Odkrywca</strong> - Odwiedź każdy kąt w labiryncie<br>
                    • <strong>Mistrz zagadek</strong> - Rozwiąż wszystkie zagadki w trybie kampanii<br><br>
                    
                    Za zdobyte osiągnięcia otrzymujesz specjalne odznaki wyświetlane w profilu gracza.`,
                
                en: `<strong>🤖 Game achievement system</strong><br><br>
                    The Maze game includes an extensive achievement system that rewards different play styles and challenges.<br><br>
                    <strong>Example achievements:</strong><br>
                    • <strong>First Step</strong> - Complete your first maze<br>
                    • <strong>Lightning Speed</strong> - Complete a maze in less than 30 seconds<br>
                    • <strong>Marathon Runner</strong> - Complete 10 mazes in a row without failing<br>
                    • <strong>Explorer</strong> - Visit every corner in a maze<br>
                    • <strong>Puzzle Master</strong> - Solve all puzzles in campaign mode<br><br>
                    
                    For achievements earned, you receive special badges displayed in your player profile.`
            },
            
            'multiplayer': {
                pl: `<strong>🤖 Tryby wieloosobowe</strong><br><br>
                    <strong>Informacja:</strong> W obecnej wersji gry Maze (1.5.0) tryby wieloosobowe nie są jeszcze dostępne. 
                    Pracujemy nad dodaniem następujących trybów w przyszłych aktualizacjach:<br><br>
                    
                    <strong>Planowane tryby multiplayer:</strong><br>
                    1. <strong>Wyścig labiryntowy</strong> - kto szybciej ukończy labirynt?<br>
                    2. <strong>Współpraca</strong> - wspólne rozwiązywanie skomplikowanych labiryntów<br>
                    3. <strong>Zasadzka</strong> - jeden gracz projektuje pułapki, drugi próbuje przejść labirynt<br>
                    4. <strong>Turniej</strong> - rywalizacja o miejsce w rankingu<br><br>
                    
                    Śledź nasze aktualizacje, aby dowiedzieć się, kiedy te funkcje zostaną wprowadzone!`,
                
                en: `<strong>🤖 Multiplayer modes</strong><br><br>
                    <strong>Information:</strong> In the current version of Maze game (1.5.0), multiplayer modes are not yet available. 
                    We are working on adding the following modes in future updates:<br><br>
                    
                    <strong>Planned multiplayer modes:</strong><br>
                    1. <strong>Maze race</strong> - who can complete the maze faster?<br>
                    2. <strong>Cooperation</strong> - solving complex mazes together<br>
                    3. <strong>Ambush</strong> - one player designs traps, the other tries to navigate the maze<br>
                    4. <strong>Tournament</strong> - compete for a place in the rankings<br><br>
                    
                    Follow our updates to find out when these features will be introduced!`
            },
            
            'tips-tricks': {
                pl: `<strong>🤖 Porady i wskazówki do gry</strong><br><br>
                    <strong>Podstawowe porady do gry Maze:</strong><br><br>
                    1. <strong>Metoda prawej ręki</strong> - trzymaj prawą rękę przy ścianie, aby metodycznie przejść przez większość labiryntów<br>
                    2. <strong>Używaj widoku z góry</strong> - gdy dostępny, pomaga zorientować się w układzie labiryntu<br>
                    3. <strong>Oznaczaj drogę</strong> - niektóre poziomy pozwalają zostawiać ślady, które pomogą się nie zgubić<br>
                    4. <strong>Obserwuj wskazówki wizualne</strong> - czasami podłoga, ściany lub oświetlenie mogą wskazywać właściwą drogę<br>
                    5. <strong>Oszczędzaj zasoby</strong> - w trybach z ograniczonymi zasobami (np. pochodni) używaj ich strategicznie<br>
                    6. <strong>Przeszukuj wszystkie zakamarki</strong> - czasem ukryte przejścia prowadzą do skrótów lub bonusów<br>
                    7. <strong>Uważaj na dźwięki</strong> - gra używa wskazówek dźwiękowych, które mogą sugerować niebezpieczeństwo lub rozwiązanie`,
                
                en: `<strong>🤖 Game tips and tricks</strong><br><br>
                    <strong>Basic tips for Maze game:</strong><br><br>
                    1. <strong>Right-hand rule</strong> - keep your right hand on the wall to methodically navigate through most mazes<br>
                    2. <strong>Use top-down view</strong> - when available, helps to orient yourself in the maze layout<br>
                    3. <strong>Mark your path</strong> - some levels allow you to leave traces to help avoid getting lost<br>
                    4. <strong>Observe visual cues</strong> - sometimes the floor, walls, or lighting can indicate the right way<br>
                    5. <strong>Conserve resources</strong> - in modes with limited resources (e.g., torches) use them strategically<br>
                    6. <strong>Search all corners</strong> - sometimes hidden passages lead to shortcuts or bonuses<br>
                    7. <strong>Pay attention to sounds</strong> - the game uses audio cues that may suggest danger or solutions`
            },
            
            'future-updates': {
                pl: `<strong>🤖 Planowane aktualizacje</strong><br><br>
                    <strong>Co planujemy dodać w przyszłych aktualizacjach gry Maze:</strong><br><br>
                    1. <strong>Tryby wieloosobowe</strong> - rywalizacja i współpraca z innymi graczami<br>
                    2. <strong>Edytor poziomów</strong> - twórz własne labirynty i dziel się nimi<br>
                    3. <strong>Nowe środowiska</strong> - labirynty w różnych sceneriach (las, jaskinia, cyberprzestrzeń)<br>
                    4. <strong>System rozwoju postaci</strong> - zdobywaj doświadczenie i odblokuj nowe umiejętności<br>
                    5. <strong>Więcej zagadek</strong> - bardziej skomplikowane łamigłówki i wyzwania logiczne<br>
                    6. <strong>System rang</strong> - rywalizuj o miejsce w globalnym rankingu<br>
                    7. <strong>Wsparcie mobilne</strong> - wersja na urządzenia iOS i Android<br><br>
                    
                    Aktualizacje będą dostępne automatycznie przy kolejnych uruchomieniach aplikacji.`,
                
                en: `<strong>🤖 Planned updates</strong><br><br>
                    <strong>What we plan to add in future updates of Maze game:</strong><br><br>
                    1. <strong>Multiplayer modes</strong> - competition and cooperation with other players<br>
                    2. <strong>Level editor</strong> - create your own mazes and share them<br>
                    3. <strong>New environments</strong> - mazes in different settings (forest, cave, cyberspace)<br>
                    4. <strong>Character development system</strong> - gain experience and unlock new abilities<br>
                    5. <strong>More puzzles</strong> - more complex brain teasers and logical challenges<br>
                    6. <strong>Ranking system</strong> - compete for a place in the global leaderboard<br>
                    7. <strong>Mobile support</strong> - version for iOS and Android devices<br><br>
                    
                    Updates will be available automatically when you next launch the application.`
            },
            
            'game-story': {
                pl: `<strong>🤖 Fabuła gry Maze</strong><br><br>
                    <strong>Historia gry Maze:</strong><br><br>
                    W świecie opanowanym przez zaawansowaną sztuczną inteligencję, ludzkość zaczęła tracić zdolność samodzielnego myślenia i rozwiązywania problemów. 
                    Ty jesteś częścią tajnego projektu o kryptonimie "Labirynt", którego celem jest trenowanie ludzi, by odzyskali te umiejętności.<br><br>
                    
                    Jako uczestnik, zostałeś zamknięty w serii wirtualnych labiryntów, które stają się coraz bardziej skomplikowane. 
                    Z każdym rozwiązanym poziomem, nie tylko przybliżasz się do wolności, ale również przyczyniasz się do odzyskania niezależności przez ludzkość.<br><br>
                    
                    Jednak nie wszystko jest takie, jak się wydaje - niektórzy uczestnicy eksperymentu zaczynają dostrzegać glitche w systemie, 
                    sugerujące, że prawdziwy cel projektu może być zupełnie inny...`,
                
                en: `<strong>🤖 Maze game story</strong><br><br>
                    <strong>The story of Maze game:</strong><br><br>
                    In a world dominated by advanced artificial intelligence, humanity has begun to lose its ability to think independently and solve problems. 
                    You are part of a secret project codenamed "Labyrinth," aimed at training humans to regain these skills.<br><br>
                    
                    As a participant, you've been locked in a series of virtual mazes that become increasingly complex. 
                    With each level solved, you not only get closer to freedom, but also contribute to humanity regaining its independence.<br><br>
                    
                    However, not everything is as it seems - some experiment participants are beginning to see glitches in the system, 
                    suggesting that the true purpose of the project might be completely different...`
            },
            
            'community': {
                pl: `<strong>🤖 Społeczność graczy</strong><br><br>
                    <strong>Jak dołączyć do społeczności Maze:</strong><br><br>
                    1. <strong>Forum dyskusyjne</strong> - odwiedź forum.mazegame.com, aby porozmawiać z innymi graczami<br>
                    2. <strong>Discord</strong> - dołącz do naszego oficjalnego serwera Discord: discord.gg/mazegame<br>
                    3. <strong>Media społecznościowe</strong> - śledź nas na:<br>
                       - Twitter: @MazeGameOfficial<br>
                       - Instagram: @mazegame<br>
                       - Facebook: fb.com/mazegameofficial<br><br>
                    
                    <strong>Co oferuje społeczność:</strong><br>
                    • Wskazówki i porady od doświadczonych graczy<br>
                    • Konkursy z nagrodami<br>
                    • Wczesny dostęp do nowych funkcji (beta testy)<br>
                    • Możliwość zgłaszania błędów i sugestii<br>
                    • Wydarzenia społecznościowe`,
                
                en: `<strong>🤖 Player community</strong><br><br>
                    <strong>How to join the Maze community:</strong><br><br>
                    1. <strong>Discussion forum</strong> - visit forum.mazegame.com to talk with other players<br>
                    2. <strong>Discord</strong> - join our official Discord server: discord.gg/mazegame<br>
                    3. <strong>Social media</strong> - follow us on:<br>
                       - Twitter: @MazeGameOfficial<br>
                       - Instagram: @mazegame<br>
                       - Facebook: fb.com/mazegameofficial<br><br>
                    
                    <strong>What the community offers:</strong><br>
                    • Tips and advice from experienced players<br>
                    • Contests with prizes<br>
                    • Early access to new features (beta testing)<br>
                    • Ability to report bugs and suggestions<br>
                    • Community events`
            },
            
            'bugs-reporting': {
                pl: `<strong>🤖 Zgłaszanie błędów w grze</strong><br><br>
                    <strong>Jak zgłosić błąd w grze Maze:</strong><br><br>
                    1. <strong>Opisz problem</strong> - podaj dokładny opis błędu, w tym:<br>
                       - Co się stało?<br>
                       - Jakie kroki doprowadziły do błędu?<br>
                       - Czy błąd można powtórzyć, a jeśli tak, to jak?<br><br>
                    
                    2. <strong>Dodaj informacje techniczne</strong>:<br>
                       - System operacyjny<br>
                       - Specyfikacja komputera<br>
                       - Wersja gry (1.5.0)<br><br>
                    
                    3. <strong>Wyślij zgłoszenie</strong> na adres bugs@mazegame.com lub poprzez formularz na stronie mazegame.com/support<br><br>
                    
                    Za zgłaszanie błędów możesz otrzymać specjalne nagrody w grze!`,
                
                en: `<strong>🤖 Reporting game bugs</strong><br><br>
                    <strong>How to report a bug in Maze game:</strong><br><br>
                    1. <strong>Describe the problem</strong> - provide a detailed description of the bug, including:<br>
                       - What happened?<br>
                       - What steps led to the bug?<br>
                       - Can the bug be reproduced, and if so, how?<br><br>
                    
                    2. <strong>Add technical information</strong>:<br>
                       - Operating system<br>
                       - Computer specifications<br>
                       - Game version (1.5.0)<br><br>
                    
                    3. <strong>Send the report</strong> to bugs@mazegame.com or through the form at mazegame.com/support<br><br>
                    
                    You may receive special in-game rewards for reporting bugs!`
            },
            
            'troubleshooting': {
                pl: `<strong>🤖 Rozwiązywanie typowych problemów</strong><br><br>
                    <strong>Typowe problemy i ich rozwiązania:</strong><br><br>
                    
                    1. <strong>Gra się nie uruchamia</strong><br>
                       ✓ Sprawdź, czy Twój system spełnia minimalne wymagania<br>
                       ✓ Uruchom jako administrator<br>
                       ✓ Zaktualizuj sterowniki karty graficznej<br>
                       ✓ Pobierz grę ponownie<br><br>
                    
                    2. <strong>Gra działa wolno / klatkuje</strong><br>
                       ✓ Zmniejsz ustawienia graficzne w menu opcji<br>
                       ✓ Zamknij inne programy działające w tle<br>
                       ✓ Zaktualizuj system operacyjny i sterowniki<br><br>
                    
                    3. <strong>Problemy z dźwiękiem</strong><br>
                       ✓ Sprawdź ustawienia dźwięku w grze<br>
                       ✓ Weryfikuj, czy właściwe urządzenie audio jest wybrane w systemie<br>
                       ✓ Zaktualizuj sterowniki dźwiękowe<br><br>
                    
                    4. <strong>Awaria podczas gry</strong><br>
                       ✓ Sprawdź plik logów błędów w folderze gry<br>
                       ✓ Zweryfikuj integralność plików gry<br>
                       ✓ Spróbuj grać w trybie zgodności`,
                
                en: `<strong>🤖 Troubleshooting common issues</strong><br><br>
                    <strong>Common problems and their solutions:</strong><br><br>
                    
                    1. <strong>Game doesn't start</strong><br>
                       ✓ Check if your system meets the minimum requirements<br>
                       ✓ Run as administrator<br>
                       ✓ Update graphics card drivers<br>
                       ✓ Download the game again<br><br>
                    
                    2. <strong>Game runs slowly / frames dropping</strong><br>
                       ✓ Reduce graphics settings in the options menu<br>
                       ✓ Close other programs running in the background<br>
                       ✓ Update operating system and drivers<br><br>
                    
                    3. <strong>Sound problems</strong><br>
                       ✓ Check sound settings in the game<br>
                       ✓ Verify that the correct audio device is selected in the system<br>
                       ✓ Update sound drivers<br><br>
                    
                    4. <strong>Crash during gameplay</strong><br>
                       ✓ Check the error log file in the game folder<br>
                       ✓ Verify the integrity of game files<br>
                       ✓ Try running in compatibility mode`
            },
            
            'windows-security': {
                pl: `<strong>🤖 Ostrzeżenia Windows Defender</strong><br><br>
                    <strong>Dlaczego Windows Defender pokazuje ostrzeżenia?</strong><br><br>
                    
                    Windows Defender może wyświetlać ostrzeżenie "Windows ochronił Twój komputer" po próbie uruchomienia gry Maze. 
                    Dzieje się tak, ponieważ nasza gra:<br><br>
                    
                    • Nie posiada jeszcze certyfikatu cyfrowego znanego wydawcy<br>
                    • Jest stosunkowo nową aplikacją, nierozpoznawaną przez bazę danych Defender<br><br>
                    
                    <strong>Co zrobić, gdy pojawi się ostrzeżenie?</strong><br><br>
                    
                    1. Kliknij "Więcej informacji" w oknie ostrzeżenia<br>
                    2. Wybierz opcję "Uruchom mimo to"<br>
                    3. Gra uruchomi się normalnie<br><br>
                    
                    Zapewniamy, że nasz plik jest w 100% bezpieczny i regularnie skanowany programami antywirusowymi. 
                    W przyszłych aktualizacjach planujemy dodać certyfikat cyfrowy, aby uniknąć tych ostrzeżeń.`,
                
                en: `<strong>🤖 Windows Defender warnings</strong><br><br>
                    <strong>Why does Windows Defender show warnings?</strong><br><br>
                    
                    Windows Defender may display a "Windows protected your PC" warning when trying to run the Maze game.
                    This happens because our game:<br><br>
                    
                    • Does not yet have a digital certificate from a known publisher<br>
                    • Is a relatively new application, not recognized by the Defender database<br><br>
                    
                    <strong>What to do when the warning appears?</strong><br><br>
                    
                    1. Click "More info" in the warning window<br>
                    2. Select the "Run anyway" option<br>
                    3. The game will launch normally<br><br>
                    
                    We assure you that our file is 100% safe and regularly scanned with antivirus programs.
                    In future updates, we plan to add a digital certificate to avoid these warnings.`
            },
            
            // New question about user list
            'user-list': {
                pl: function() {
                    let users;
                    try {
                        users = gameDB.getAllUsers();
                    } catch (e) {
                        return `<strong>🤖 Lista użytkowników niedostępna</strong><br><br>Nie mogę pobrać listy użytkowników w tym momencie. Spróbuj ponownie później.`;
                    }
                    
                    let userListHtml = `<strong>🤖 Lista wszystkich użytkowników</strong><br><br>
                        <strong>Zarejestrowani użytkownicy:</strong><br><br>`;
                    
                    if (users.length === 0) {
                        userListHtml += "Brak zarejestrowanych użytkowników.";
                    } else {
                        for (let i = 0; i < users.length; i++) {
                            const user = users[i];
                            const regDate = new Date(user.registrationDate).toLocaleDateString();
                            const lastLogin = user.lastLogin ? new Date(user.lastLogin).toLocaleDateString() : "Nigdy";
                            const status = user.status === 'active' ? '✅ Aktywny' : '❌ Nieaktywny';
                            const role = user.isAdmin ? '👑 Administrator' : '👤 Użytkownik';
                            
                            userListHtml += `<strong>${i+1}. ${user.username}</strong> (${role})<br>
                                Status: ${status}<br>
                                Zarejestrowany: ${regDate}<br>
                                Ostatnie logowanie: ${lastLogin}<br><br>`;
                        }
                    }
                    
                    return userListHtml;
                },
                
                en: function() {
                    let users;
                    try {
                        users = gameDB.getAllUsers();
                    } catch (e) {
                        return `<strong>🤖 User list unavailable</strong><br><br>I cannot retrieve the list of users at this moment. Please try again later.`;
                    }
                    
                    let userListHtml = `<strong>🤖 List of all users</strong><br><br>
                        <strong>Registered users:</strong><br><br>`;
                    
                    if (users.length === 0) {
                        userListHtml += "No registered users.";
                    } else {
                        for (let i = 0; i < users.length; i++) {
                            const user = users[i];
                            const regDate = new Date(user.registrationDate).toLocaleDateString();
                            const lastLogin = user.lastLogin ? new Date(user.lastLogin).toLocaleDateString() : "Never";
                            const status = user.status === 'active' ? '✅ Active' : '❌ Inactive';
                            const role = user.isAdmin ? '👑 Administrator' : '👤 User';
                            
                            userListHtml += `<strong>${i+1}. ${user.username}</strong> (${role})<br>
                                Status: ${status}<br>
                                Registered: ${regDate}<br>
                                Last login: ${lastLogin}<br><br>`;
                        }
                    }
                    
                    return userListHtml;
                }
            }
        };

        function askQuestion(questionType) {
            if (!isInitialized) {
                if (!initializeSystem()) {
                    showNotification(
                        'System jest inicjalizowany, spróbuj ponownie za chwilę.',
                        'System is being initialized, try again in a moment.',
                        'info'
                    );
                    return;
                }
            }

            if (!currentUser) {
                const currentLang = document.documentElement.lang;
                const message = currentLang === 'pl' ? 
                    'Musisz się zalogować aby korzystać z AI!' : 
                    'You must login to use AI assistant!';
                showNotification(message, message, 'error');
                return;
            }
            
            const messagesContainer = document.getElementById('chatbotMessages');
            if (!messagesContainer) return;
            
            const currentLang = document.documentElement.lang;
            
            clearChatbotResponses();
            showTypingIndicator();
            
            setTimeout(() => {
                hideTypingIndicator();
                
                let response;
                
                // Get appropriate response based on question type
                if (aiResponses[questionType]) {
                    if (typeof aiResponses[questionType] === 'function') {
                        response = aiResponses[questionType]();
                    } else if (aiResponses[questionType][currentLang]) {
                        if (typeof aiResponses[questionType][currentLang] === 'function') {
                            response = aiResponses[questionType][currentLang]();
                        } else {
                            response = aiResponses[questionType][currentLang];
                        }
                    } else {
                        response = currentLang === 'pl' ? 
                            'Przepraszam, odpowiedź na to pytanie nie jest dostępna w wybranym języku.' :
                            'Sorry, the answer to this question is not available in the selected language.';
                    }
                } else {
                    response = currentLang === 'pl' ? 
                        'Przepraszam, nie mam odpowiedzi na to pytanie.' :
                        'Sorry, I don\'t have an answer for this question.';
                }
                
                const responseDiv = document.createElement('div');
                responseDiv.className = 'ai-response';
                responseDiv.innerHTML = response;
                
                messagesContainer.appendChild(responseDiv);
                messagesContainer.scrollTop = messagesContainer.scrollHeight;
            }, 1000 + Math.random() * 1000);
        }

        function showTypingIndicator() {
            const messagesContainer = document.getElementById('chatbotMessages');
            if (!messagesContainer) return;
            
            const currentLang = document.documentElement.lang;
            
            const typingDiv = document.createElement('div');
            typingDiv.className = 'ai-typing';
            typingDiv.id = 'typingIndicator';
            typingDiv.innerHTML = currentLang === 'pl' ? 
                '🤖 AI analizuje pytanie<span class="typing-dots"></span>' :
                '🤖 AI is analyzing your question<span class="typing-dots"></span>';
            
            messagesContainer.appendChild(typingDiv);
            typingDiv.style.display = 'block';
            messagesContainer.scrollTop = messagesContainer.scrollHeight;
        }

        function hideTypingIndicator() {
            const indicator = document.getElementById('typingIndicator');
            if (indicator) {
                indicator.remove();
            }
        }

        // —— UTILITY FUNCTIONS —— 
        function showNotification(messagePL, messageEN, type = 'success') {
            const currentLang = document.documentElement.lang;
            const message = currentLang === 'pl' ? messagePL : messageEN;
            
            const notification = document.createElement('div');
            notification.className = `notification ${type}`;
            notification.textContent = message;
            
            document.body.appendChild(notification);
            
            setTimeout(() => {
                notification.classList.add('show');
            }, 100);
            
            setTimeout(() => {
                notification.classList.remove('show');
                setTimeout(() => {
                    if (document.body.contains(notification)) {
                        document.body.removeChild(notification);
                    }
                }, 300);
            }, 4000);
        }

        function showLoading(text = '') {
            const loading = document.getElementById('loading');
            const loadingText = document.getElementById('loadingText');
            if (loading) {
                loading.style.display = 'flex';
                if (loadingText && text) {
                    loadingText.textContent = text;
                }
            }
        }

        function hideLoading() {
            const loading = document.getElementById('loading');
            if (loading) {
                loading.style.display = 'none';
            }
        }

        // —— MODAL FUNCTIONS —— 
        function openModal() {
            const modal = document.getElementById('infoModal');
            if (modal) {
                modal.style.display = 'block';
                document.body.style.overflow = 'hidden';
            }
        }
        
        function closeModal() {
            const modal = document.getElementById('infoModal');
            if (modal) {
                modal.style.display = 'none';
                document.body.style.overflow = 'auto';
            }
        }

        function openSecurityModal() {
            const modal = document.getElementById('securityModal');
            if (modal) {
                modal.style.display = 'block';
                document.body.style.overflow = 'hidden';
            }
        }
        
        function closeSecurityModal() {
            const modal = document.getElementById('securityModal');
            if (modal) {
                modal.style.display = 'none';
                document.body.style.overflow = 'auto';
            }
        }

        // —— DROPDOWN FUNCTIONS —— 
        function toggleLanguageDropdown() {
            const dropdownContent = document.getElementById('languageDropdownContent');
            const dropdownBtn = document.getElementById('languageDropdownBtn');
            
            if (dropdownContent && dropdownBtn) {
                dropdownContent.style.display = dropdownContent.style.display === 'block' ? 'none' : 'block';
                dropdownBtn.classList.toggle('active');
            }
        }

        function toggleHelpDropdown() {
            const dropdownContent = document.getElementById('helpDropdownContent');
            const dropdownBtn = document.getElementById('helpDropdownBtn');
            
            if (dropdownContent && dropdownBtn) {
                dropdownContent.style.display = dropdownContent.style.display === 'block' ? 'none' : 'block';
                dropdownBtn.classList.toggle('active');
            }
        }

        function changeLanguage(lang) {
            if (lang !== 'pl' && lang !== 'en') return;
            
            document.documentElement.lang = lang;
            
            const currentLang = document.getElementById('currentLanguage');
            if (currentLang) {
                currentLang.textContent = lang === 'pl' ? 'Polski' : 'English';
            }
            
            const plOption = document.getElementById('pl-option');
            const enOption = document.getElementById('en-option');
            if (plOption) plOption.classList.toggle('active', lang === 'pl');
            if (enOption) enOption.classList.toggle('active', lang === 'en');
            
            localStorage.setItem('preferredLanguage', lang);
            
            // Close any dropdown that might be open
            const helpDropdown = document.getElementById('helpDropdownContent');
            const languageDropdown = document.getElementById('languageDropdownContent');
            if (helpDropdown) helpDropdown.style.display = 'none';
            if (languageDropdown) languageDropdown.style.display = 'none';
        }

        // —— EVENT LISTENERS —— 
        window.onclick = function(event) {
            const modal = document.getElementById('infoModal');
            const securityModal = document.getElementById('securityModal');
            const authModal = document.getElementById('authModal');
            const settingsModal = document.getElementById('settingsModal');
            const helpDropdown = document.getElementById('helpDropdownContent');
            const languageDropdown = document.getElementById('languageDropdownContent');
            
            if (event.target === modal) {
                closeModal();
            }
            if (event.target === securityModal) {
                closeSecurityModal();
            }
            if (event.target === authModal) {
                closeAuthModal();
            }
            if (event.target === settingsModal) {
                closeSettings();
            }
            
            if (!event.target.closest('.help-dropdown') && helpDropdown) {
                helpDropdown.style.display = 'none';
                const helpBtn = document.getElementById('helpDropdownBtn');
                if (helpBtn) helpBtn.classList.remove('active');
            }
            if (!event.target.closest('.language-dropdown') && languageDropdown) {
                languageDropdown.style.display = 'none';
                const langBtn = document.getElementById('languageDropdownBtn');
                if (langBtn) langBtn.classList.remove('active');
            }
        }

        document.addEventListener('keydown', function(event) {
            if (event.ctrlKey && event.key === 'l') {
                event.preventDefault();
                if (currentUser) {
                    logout();
                } else {
                    openAuthModal();
                }
            }
            
            if (event.key === 'Escape') {
                closeModal();
                closeSecurityModal();
                closeAuthModal();
                closeSettings();
                closeChatbot();
            }
        });

        // Automatically log out when page is unloaded
        window.addEventListener('beforeunload', function() {
            logout();
        });

        // —— INITIALIZATION —— 
        document.addEventListener('DOMContentLoaded', function() {
            try {
                // Show loading indicator first
                showLoading('Ładowanie... / Loading...');
                
                // Initialize system after a small delay to show loading
                setTimeout(() => {
                    const initialized = initializeSystem();
                    if (!initialized) {
                        console.error("System initialization failed");
                        showNotification(
                            "Błąd inicjalizacji systemu. Spróbuj odświeżyć stronę.",
                            "System initialization error. Try refreshing the page.",
                            "error"
                        );
                    }
                    
                    const savedLang = localStorage.getItem('preferredLanguage');
                    if (savedLang && (savedLang === 'en' || savedLang === 'pl')) {
                        changeLanguage(savedLang);
                    } else {
                        changeLanguage('pl');
                    }

                    const passwordInput = document.getElementById('registerPassword');
                    if (passwordInput) {
                        passwordInput.addEventListener('input', checkPasswordStrength);
                    }

                    document.body.classList.add('loaded');
                    
                    console.log('Enhanced security and database system loaded');
                    console.log('AI chatbot system initialized');
                    console.log(`Database contains ${gameDB?.users?.length || 0} users`);
                }, 300);
            } catch (error) {
                console.error("Error during initialization:", error);
                showNotification(
                    "Wystąpił błąd podczas inicjalizacji. Odśwież stronę.",
                    "Error occurred during initialization. Refresh the page.",
                    "error"
                );
                hideLoading();
            }
        });

        // Session management
        setInterval(function() {
            if (currentUser) {
                const savedUser = localStorage.getItem('currentUser');
                if (savedUser) {
                    try {
                        const userData = JSON.parse(savedUser);
                        const loginTime = new Date(userData.loginTime);
                        const now = new Date();
                        const sessionDuration = (now - loginTime) / (1000 * 60 * 60);
                        
                        if (sessionDuration > 24) {
                            logout();
                            const currentLang = document.documentElement.lang;
                            const message = currentLang === 'pl' ? 
                                'Sesja wygasła. Zaloguj się ponownie.' : 
                                'Session expired. Please login again.';
                            showNotification(message, message, 'info');
                        }
                    } catch (e) {
                        console.error('Session check error:', e);
                    }
                }
            }
        }, 300000);
    </script>
</head>
<body>
    <!-- Loading screen -->
    <div id="loading" class="loading">
        <div class="loading-spinner"></div>
        <div id="loadingText" class="loading-text">Ładowanie... / Loading...</div>
    </div>

    <!-- Update notification overlay -->
    <div id="updateOverlay" class="update-overlay">
        <div class="update-container">
            <div class="update-title">Nowa wersja dostępna!</div>
            <div class="update-text">Dostępna jest nowa wersja aplikacji. Odśwież stronę, aby korzystać z najnowszych funkcji.</div>
            <button class="update-btn" onclick="updateApp()">Odśwież stronę</button>
        </div>
    </div>

        <!-- User panel with login/register -->
    <div class="user-panel">
        <button id="loginButton" class="login-toggle" onclick="openAuthModal()">
            <span class="lang-pl">🔐 Zaloguj się</span>
            <span class="lang-en">🔐 Login</span>
        </button>
        
        <div id="userInfo" class="user-info" style="display: none;">
            <div class="user-avatar">👤</div>
            <div class="lang-pl">Zalogowany jako:</div>
            <div class="lang-en">Logged in as:</div>
            <strong id="usernameDisplay">User</strong>
            <span id="userStatus" class="user-status"></span>
            <button class="settings-btn" onclick="openSettings()">
                <span class="lang-pl">Ustawienia</span>
                <span class="lang-en">Settings</span>
            </button>
            <button class="logout-btn" onclick="logout()">
                <span class="lang-pl">Wyloguj</span>
                <span class="lang-en">Logout</span>
            </button>
        </div>
    </div>

    <!-- Language dropdown -->
    <div class="language-dropdown">
        <button id="languageDropdownBtn" class="dropdown-btn" onclick="toggleLanguageDropdown()">
            <span id="currentLanguage">Polski</span>
        </button>
        <div id="languageDropdownContent" class="dropdown-content">
            <div id="pl-option" class="dropdown-option active" onclick="changeLanguage('pl')">Polski</div>
            <div id="en-option" class="dropdown-option" onclick="changeLanguage('en')">English</div>
        </div>
    </div>

    <!-- Help dropdown -->
    <div class="help-dropdown">
        <button id="helpDropdownBtn" class="dropdown-btn" onclick="toggleHelpDropdown()">
            <span class="lang-pl">Pomoc</span>
            <span class="lang-en">Help</span>
        </button>
        <div id="helpDropdownContent" class="dropdown-content">
            <div class="dropdown-option lang-pl" onclick="toggleChatbot()">🤖 Asystent AI</div>
            <div class="dropdown-option lang-en" onclick="toggleChatbot()">🤖 AI Assistant</div>
            
            <div class="dropdown-option lang-pl" onclick="openModal()">📥 Jak pobrać grę?</div>
            <div class="dropdown-option lang-en" onclick="openModal()">📥 How to download?</div>
            
            <div class="dropdown-option lang-pl" onclick="openSecurityModal()">🛡️ Bezpieczeństwo</div>
            <div class="dropdown-option lang-en" onclick="openSecurityModal()">🛡️ Security</div>
            
            <div class="dropdown-option lang-pl" onclick="askQuestion('system-requirements'); toggleChatbot();">💻 Wymagania systemowe</div>
            <div class="dropdown-option lang-en" onclick="askQuestion('system-requirements'); toggleChatbot();">💻 System requirements</div>
            
            <div class="dropdown-option lang-pl" onclick="askQuestion('user-stats'); toggleChatbot();">📊 Statystyki użytkowników</div>
            <div class="dropdown-option lang-en" onclick="askQuestion('user-stats'); toggleChatbot();">📊 User statistics</div>
            
            <div class="dropdown-option lang-pl" onclick="askQuestion('user-list'); toggleChatbot();">👥 Lista użytkowników</div>
            <div class="dropdown-option lang-en" onclick="askQuestion('user-list'); toggleChatbot();">👥 User list</div>
        </div>
    </div>

    <header>
        <h1 class="lang-pl">Gry do pobrania!</h1>
        <h1 class="lang-en">Games to Download!</h1>
    </header>

    <main>
        <section>
            <h2 class="lang-pl">Maze — pobierz teraz</h2>
            <h2 class="lang-en">Maze — download now</h2>
            
            <p class="lang-pl">Odkryj fascynujący labirynt pełen tajemnic i wyzwań. Znajdź drogę wyjścia zanim skończy się czas! <strong>Wymagane konto użytkownika do pobrania.</strong></p>
            <p class="lang-en">Discover a fascinating maze full of mysteries and challenges. Find the way out before time runs out! <strong>User account required for download.</strong></p>

            <div class="download-container">
                <a href="maze_menu.zip" class="btn download-btn lang-pl" download onclick="return checkDownload(event)">Pobierz grę</a>
                <a href="maze_menu.zip" class="btn download-btn lang-en" download onclick="return checkDownload(event)">Download game</a>
                
                <button class="btn info-btn lang-pl" onclick="openModal()">Informacje dotyczące pobrania gry</button>
                <button class="btn info-btn lang-en" onclick="openModal()">Game download information</button>
                
                <p id="download-error" class="error-message lang-pl">Przepraszamy, plik nie jest obecnie dostępny. Prosimy spróbować później.</p>
                <p id="download-error-en" class="error-message lang-en">Sorry, the file is currently unavailable. Please try again later.</p>
            </div>
        </section>
    </main>

    <!-- Authentication Modal -->
    <div id="authModal" class="auth-modal">
        <div class="auth-content">
            <span class="close-auth" onclick="closeAuthModal()">&times;</span>
            
            <div class="auth-header">
                <h2 class="lang-pl">System użytkowników</h2>
                <h2 class="lang-en">User System</h2>
            </div>
            
            <div class="auth-tabs">
                <button id="loginTab" class="auth-tab active" onclick="switchAuthTab('login')">
                    <span class="lang-pl">Logowanie</span>
                    <span class="lang-en">Login</span>
                </button>
                <button id="registerTab" class="auth-tab" onclick="switchAuthTab('register')">
                    <span class="lang-pl">Rejestracja</span>
                    <span class="lang-en">Register</span>
                </button>
                <button id="avatarTab" class="auth-tab" style="display: none;">
                    <span class="lang-pl">Wybierz avatar</span>
                    <span class="lang-en">Choose avatar</span>
                </button>
            </div>

            <!-- Login Form -->
            <form id="loginForm" class="auth-form active" onsubmit="handleLogin(event)">
                <div class="form-group">
                    <label class="form-label lang-pl">Nazwa użytkownika:</label>
                    <label class="form-label lang-en">Username:</label>
                    <input type="text" id="loginUsername" class="form-input" placeholder="Wprowadź nazwę użytkownika / Enter username" required>
                    <div class="form-error"></div>
                </div>
                
                <div class="form-group">
                    <label class="form-label lang-pl">Hasło:</label>
                    <label class="form-label lang-en">Password:</label>
                    <input type="password" id="loginPassword" class="form-input" placeholder="Wprowadź hasło / Enter password" required>
                    <div class="form-error"></div>
                </div>
                
                <button type="submit" class="auth-btn">
                    <span class="lang-pl">Zaloguj się</span>
                    <span class="lang-en">Login</span>
                </button>
                
                <div style="text-align: center; margin-top: 15px; font-size: 13px; color: rgba(255,255,255,0.6);">
                    <div class="lang-pl">Przykładowe konto: <strong>admin</strong> / <strong>admin123</strong></div>
                    <div class="lang-en">Sample account: <strong>admin</strong> / <strong>admin123</strong></div>
                </div>
            </form>
            
            <!-- Register Form -->
            <form id="registerForm" class="auth-form" onsubmit="handleRegister(event)">
                <div class="form-group">
                    <label class="form-label lang-pl">Nazwa użytkownika:</label>
                    <label class="form-label lang-en">Username:</label>
                    <input type="text" id="registerUsername" class="form-input" placeholder="3-20 znaków / 3-20 characters" required minlength="3" maxlength="20">
                    <div class="form-error"></div>
                </div>
                
                <div class="form-group">
                    <label class="form-label lang-pl">Data urodzenia:</label>
                    <label class="form-label lang-en">Birth date:</label>
                    <input type="date" id="registerBirthdate" class="form-input" required>
                    <div class="birthdate-info lang-pl">Musisz mieć co najmniej 13 lat</div>
                    <div class="birthdate-info lang-en">You must be at least 13 years old</div>
                    <div class="form-error"></div>
                </div>
                
                <div class="form-group">
                    <label class="form-label lang-pl">Hasło:</label>
                    <label class="form-label lang-en">Password:</label>
                    <input type="password" id="registerPassword" class="form-input" placeholder="Minimum 6 znaków / Minimum 6 characters" required minlength="6">
                    <div class="form-error"></div>
                    <div id="passwordStrength" class="password-strength" style="display: none;">
                        <div class="lang-pl">Siła hasła: <span id="strengthText"></span></div>
                        <div class="lang-en">Password strength: <span id="strengthText"></span></div>
                        <div class="strength-bar">
                            <div id="strengthFill" class="strength-fill"></div>
                        </div>
                    </div>
                </div>
                
                <button type="submit" class="auth-btn">
                    <span class="lang-pl">Dalej - wybierz avatar</span>
                    <span class="lang-en">Next - choose avatar</span>
                </button>
            </form>

            <!-- Avatar Selection -->
            <div id="avatarSelection" class="avatar-selection">
                <div class="form-group">
                    <label class="form-label lang-pl">Wybierz swój avatar:</label>
                    <label class="form-label lang-en">Choose your avatar:</label>
                    <div id="avatarGrid" class="avatar-grid">
                        <!-- Avatars will be loaded by JavaScript -->
                    </div>
                </div>
                
                <button type="button" class="auth-btn" onclick="completeRegistration()">
                    <span class="lang-pl">Zakończ rejestrację</span>
                    <span class="lang-en">Complete registration</span>
                </button>
            </div>
        </div>
    </div>

    <!-- Settings Modal with enhanced tabs -->
    <div id="settingsModal" class="settings-modal">
        <div class="settings-content">
            <span class="close-auth" onclick="closeSettings()">&times;</span>
            
            <div class="auth-header">
                <h2 class="lang-pl">Ustawienia konta</h2>
                <h2 class="lang-en">Account Settings</h2>
            </div>
            
            <!-- Settings tabs -->
            <div class="settings-tabs">
                <button id="profileTab" class="setting-tab active" onclick="showSettingsTab('profile')">
                    <span class="lang-pl">👤 Profil</span>
                    <span class="lang-en">👤 Profile</span>
                </button>
                <button id="appearanceTab" class="setting-tab" onclick="showSettingsTab('appearance')">
                    <span class="lang-pl">🎨 Wygląd</span>
                    <span class="lang-en">🎨 Appearance</span>
                </button>
                <button id="accessibilityTab" class="setting-tab" onclick="showSettingsTab('accessibility')">
                    <span class="lang-pl">♿ Dostępność</span>
                    <span class="lang-en">♿ Accessibility</span>
                </button>
                <button id="dangerTab" class="setting-tab" onclick="showSettingsTab('danger')">
                    <span class="lang-pl">⚠️ Zagrożenia</span>
                    <span class="lang-en">⚠️ Danger Zone</span>
                </button>
            </div>
            
            <!-- Profile Settings -->
            <div id="profileSection" class="settings-section">
                <h3 class="lang-pl">👤 Profil</h3>
                <h3 class="lang-en">👤 Profile</h3>
                
                <div style="background: rgba(52, 152, 219, 0.1); padding: 15px; border-radius: 8px; margin: 15px 0;">
                    <div class="lang-pl"><strong>Nazwa użytkownika:</strong> <span id="settingsUsername">-</span></div>
                    <div class="lang-en"><strong>Username:</strong> <span id="settingsUsername">-</span></div>
                    <div class="lang-pl"><strong>Data rejestracji:</strong> <span id="settingsRegDate">-</span></div>
                    <div class="lang-en"><strong>Registration date:</strong> <span id="settingsRegDate">-</span></div>
                    <div class="lang-pl"><strong>Ostatnie logowanie:</strong> <span id="settingsLastLogin">-</span></div>
                    <div class="lang-en"><strong>Last login:</strong> <span id="settingsLastLogin">-</span></div>
                </div>
                
                <h4 class="lang-pl">🎭 Avatar</h4>
                <h4 class="lang-en">🎭 Avatar</h4>
                
                <button class="auth-btn" onclick="changeAvatar()" style="margin-bottom: 15px;">
                    <span class="lang-pl">Zmień avatar</span>
                    <span class="lang-en">Change Avatar</span>
                </button>
                <div id="settingsAvatarGrid" class="avatar-grid" style="display: none;">
                    <!-- Avatar options will be loaded here -->
                </div>
            </div>
            
            <!-- Appearance Settings -->
            <div id="appearanceSection" class="settings-section" style="display: none;">
                <h3 class="lang-pl">🎨 Wygląd</h3>
                <h3 class="lang-en">🎨 Appearance</h3>
                
                <div class="lang-pl">Opcje dotyczące wyglądu interfejsu</div>
                <div class="lang-en">Interface appearance options</div>
                
                <div style="margin-top: 15px;">
                    <div class="lang-pl"><strong>Język:</strong></div>
                    <div class="lang-en"><strong>Language:</strong></div>
                    <div style="margin-top: 10px; display: flex; gap: 10px;">
                        <button class="auth-btn" style="padding: 8px 15px; font-size: 14px;" onclick="changeLanguage('pl')">Polski</button>
                        <button class="auth-btn" style="padding: 8px 15px; font-size: 14px;" onclick="changeLanguage('en')">English</button>
                    </div>
                </div>
                
                <div style="margin-top: 20px;">
                    <div class="lang-pl"><strong>Motyw kolorystyczny:</strong></div>
                    <div class="lang-en"><strong>Color theme:</strong></div>
                    <div class="theme-options">
                        <div class="theme-option theme-orange" onclick="changeTheme('orange')"></div>
                        <div class="theme-option theme-purple" onclick="changeTheme('purple')"></div>
                        <div class="theme-option theme-blue" onclick="changeTheme('blue')"></div>
                        <div class="theme-option theme-green" onclick="changeTheme('green')"></div>
                        <div class="theme-option theme-red" onclick="changeTheme('red')"></div>
                    </div>
                </div>
                
                <div style="margin-top: 20px;">
                    <div class="lang-pl"><strong>Animacje interfejsu:</strong></div>
                    <div class="lang-en"><strong>Interface animations:</strong></div>
                    <div style="display: flex; justify-content: space-between; align-items: center; margin-top: 10px;">
                        <div>
                            <div class="lang-pl">Efekty animacji</div>
                            <div class="lang-en">Animation effects</div>
                        </div>
                        <label class="switch">
                            <input type="checkbox" id="animationsToggle" checked>
                            <span class="slider round"></span>
                        </label>
                    </div>
                </div>
                
                <div style="margin-top: 20px;">
                    <div class="lang-pl"><strong>Powiadomienia:</strong></div>
                    <div class="lang-en"><strong>Notifications:</strong></div>
                    <div style="display: flex; justify-content: space-between; align-items: center; margin-top: 10px;">
                        <div>
                            <div class="lang-pl">Powiadomienia systemowe</div>
                            <div class="lang-en">System notifications</div>
                        </div>
                        <label class="switch">
                            <input type="checkbox" id="notificationsToggle" checked onchange="updateUserPreference('notifications', this.checked)">
                            <span class="slider round"></span>
                        </label>
                    </div>
                </div>
            </div>
            
            <!-- Accessibility Settings -->
            <div id="accessibilitySection" class="settings-section" style="display: none;">
                <h3 class="lang-pl">♿ Dostępność</h3>
                <h3 class="lang-en">♿ Accessibility</h3>
                
                <div class="accessibility-option">
                    <div class="lang-pl"><strong>Wysoki kontrast</strong></div>
                    <div class="lang-en"><strong>High contrast</strong></div>
                    <div style="margin-top: 10px; display: flex; justify-content: space-between; align-items: center;">
                        <div class="lang-pl">Zwiększa kontrast elementów interfejsu</div>
                        <div class="lang-en">Increases interface element contrast</div>
                        <label class="switch">
                            <input type="checkbox" id="highContrastToggle" onchange="updateUserPreference('highContrast', this.checked)">
                            <span class="slider round"></span>
                        </label>
                    </div>
                </div>
                
                <div class="accessibility-option">
                    <div class="lang-pl"><strong>Rozmiar czcionki</strong></div>
                    <div class="lang-en"><strong>Font size</strong></div>
                    <div class="font-size-buttons">
                        <button id="fontSmall" class="font-btn" onclick="changeFontSize('small')">
                            <span class="lang-pl">Mały</span>
                            <span class="lang-en">Small</span>
                        </button>
                        <button id="fontMedium" class="font-btn active" onclick="changeFontSize('medium')">
                            <span class="lang-pl">Średni</span>
                            <span class="lang-en">Medium</span>
                        </button>
                        <button id="fontLarge" class="font-btn" onclick="changeFontSize('large')">
                            <span class="lang-pl">Duży</span>
                            <span class="lang-en">Large</span>
                        </button>
                    </div>
                </div>
                
                <div class="accessibility-option">
                    <div class="lang-pl"><strong>Zmniejszona ilość animacji</strong></div>
                    <div class="lang-en"><strong>Reduced animations</strong></div>
                    <div style="margin-top: 10px; display: flex; justify-content: space-between; align-items: center;">
                        <div class="lang-pl">Zmniejsza lub wyłącza efekty animacji</div>
                        <div class="lang-en">Reduces or disables animation effects</div>
                        <label class="switch">
                            <input type="checkbox" id="reducedAnimationsToggle" onchange="updateUserPreference('reducedAnimations', this.checked)">
                            <span class="slider round"></span>
                        </label>
                    </div>
                </div>
                
                <div class="accessibility-option">
                    <div class="lang-pl"><strong>Wskaźnik fokusa</strong></div>
                    <div class="lang-en"><strong>Focus indicator</strong></div>
                    <div style="margin-top: 10px; display: flex; justify-content: space-between; align-items: center;">
                        <div class="lang-pl">Wyraźne oznaczenie wybranego elementu</div>
                        <div class="lang-en">Clear indication of selected element</div>
                        <label class="switch">
                            <input type="checkbox" id="focusIndicatorToggle" onchange="updateUserPreference('focusIndicator', this.checked)">
                            <span class="slider round"></span>
                        </label>
                    </div>
                </div>
            </div>

            <!-- Danger Zone -->
            <div id="dangerSection" class="settings-section danger-zone" style="display: none;">
                <h3 class="lang-pl">⚠️ Strefa zagrożenia</h3>
                <h3 class="lang-en">⚠️ Danger Zone</h3>
                
                <p class="lang-pl">Nieodwracalne operacje na koncie. Używaj z ostrożnością.</p>
                <p class="lang-en">Irreversible account operations. Use with caution.</p>
                
                <button class="delete-account-btn" onclick="showDeleteConfirmation()">
                    <span class="lang-pl">Usuń konto trwale</span>
                    <span class="lang-en">Delete Account Permanently</span>
                </button>
                
                <div style="margin-top: 10px; font-size: 12px; color: rgba(255,255,255,0.6);">
                    <div class="lang-pl">Ta akcja jest nieodwracalna i usunie wszystkie Twoje dane.</div>
                    <div class="lang-en">This action is irreversible and will delete all your data.</div>
                </div>
                
                <!-- Account deletion confirmation with CAPTCHA -->
                <div id="captchaChallenge" class="captcha-challenge">
                    <div class="lang-pl"><strong>Wprowadź swoje hasło:</strong></div>
                    <div class="lang-en"><strong>Enter your password:</strong></div>
                    <input type="password" id="deletePassword" class="form-input" style="margin: 10px 0;" 
                           placeholder="Hasło / Password" required>
                    
                    <div class="lang-pl"><strong>Przepisz kod CAPTCHA:</strong></div>
                    <div class="lang-en"><strong>Type the CAPTCHA code:</strong></div>
                    <div class="captcha-code" id="captchaCode">123456</div>
                    <input type="text" id="captchaInput" class="form-input" 
                           placeholder="Kod CAPTCHA / CAPTCHA code" required>
                    
                    <div style="margin-top: 15px; display: flex; gap: 10px; justify-content: center;">
                        <button class="auth-btn" style="background: rgba(52, 152, 219, 0.8); padding: 10px 15px; font-size: 14px;" 
                                onclick="hideCaptchaChallenge()">
                            <span class="lang-pl">Anuluj</span>
                            <span class="lang-en">Cancel</span>
                        </button>
                        <button class="delete-account-btn" style="padding: 10px 15px; font-size: 14px;" 
                                onclick="confirmDeleteAccount()">
                            <span class="lang-pl">Potwierdzam usunięcie</span>
                            <span class="lang-en">Confirm Deletion</span>
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Enhanced AI Chatbot -->
    <div class="ai-chatbot">
        <button class="chatbot-toggle" onclick="toggleChatbot()" title="Inteligentny asystent AI / Intelligent AI Assistant">
            <span class="robot-icon">🤖</span>
        </button>
        
        <div id="chatbotContainer" class="chatbot-container">
            <div class="chatbot-header">
                <div class="chatbot-title">
                    <span class="robot-icon">🤖</span>
                    <span class="lang-pl">Asystent AI</span>
                    <span class="lang-en">AI Assistant</span>
                </div>
                <button class="chatbot-close" onclick="closeChatbot()">×</button>
            </div>
            
            <div id="chatbotMessages" class="chatbot-messages">
                <div class="chatbot-welcome">
                    <div class="lang-pl">
                        <strong>🤖 Cześć! Jestem AI Asystentem</strong><br>
                        Pomogę Ci z różnymi pytaniami dotyczącymi gry i systemu. Wybierz pytanie:
                    </div>
                    <div class="lang-en">
                        <strong>🤖 Hi! I'm AI Assistant</strong><br>
                        I'll help you with various questions about the game and system. Choose a question:
                    </div>
                </div>
                
                <div class="chatbot-questions">
                    <!-- REGISTRATION & LOGIN -->
                    <button class="question-btn lang-pl" onclick="askQuestion('registration-help')">
                        📝 Jak założyć konto? (proces rejestracji)
                    </button>
                    <button class="question-btn lang-en" onclick="askQuestion('registration-help')">
                        📝 How to create account? (registration process)
                    </button>
                    
                    <button class="question-btn lang-pl" onclick="askQuestion('login-help')">
                        🔑 Pomoc z logowaniem do konta
                    </button>
                    <button class="question-btn lang-en" onclick="askQuestion('login-help')">
                        🔑 Help with account login
                    </button>
                    
                    <button class="question-btn lang-pl" onclick="askQuestion('password-reset')">
                        🔐 Zapomniałem hasła - jak je odzyskać?
                    </button>
                    <button class="question-btn lang-en" onclick="askQuestion('password-reset')">
                        🔐 Forgot password - how to recover?
                    </button>

                    <button class="question-btn lang-pl" onclick="askQuestion('account-benefits')">
                        👑 Jakie korzyści daje konto użytkownika?
                    </button>
                    <button class="question-btn lang-en" onclick="askQuestion('account-benefits')">
                        👑 What benefits does user account provide?
                    </button>

                    <!-- DOWNLOAD & TECHNICAL -->
                    <button class="question-btn lang-pl" onclick="askQuestion('download-not-started')">
                        🔧 Co zrobić gdy pobieranie się nie zaczęło?
                    </button>
                    <button class="question-btn lang-en" onclick="askQuestion('download-not-started')">
                        🔧 What to do when download doesn't start?
                    </button>
                    
                    <button class="question-btn lang-pl" onclick="askQuestion('file-safety')">
                        🛡️ Czy plik jest szkodliwy/bezpieczny?
                    </button>
                    <button class="question-btn lang-en" onclick="askQuestion('file-safety')">
                        🛡️ Is the file harmful/safe?
                    </button>

                    <button class="question-btn lang-pl" onclick="askQuestion('system-requirements')">
                        💻 Wymagania systemowe gry
                    </button>
                    <button class="question-btn lang-en" onclick="askQuestion('system-requirements')">
                        💻 Game system requirements
                    </button>

                    <button class="question-btn lang-pl" onclick="askQuestion('game-features')">
                        🎮 Jakie funkcje ma gra Maze?
                    </button>
                    <button class="question-btn lang-en" onclick="askQuestion('game-features')">
                        🎮 What features does Maze game have?
                    </button>

                    <button class="question-btn lang-pl" onclick="askQuestion('technical-support')">
                        🔧 Wsparcie techniczne i rozwiązywanie problemów
                    </button>
                    <button class="question-btn lang-en" onclick="askQuestion('technical-support')">
                        🔧 Technical support and problem solving
                    </button>

                    <!-- PRIVACY & SETTINGS -->
                    <button class="question-btn lang-pl" onclick="askQuestion('privacy-security')">
                        🔐 Jak chronicie moje dane osobowe?
                    </button>
                    <button class="question-btn lang-en" onclick="askQuestion('privacy-security')">
                        🔐 How do you protect my personal data?
                    </button>

                    <button class="question-btn lang-pl" onclick="askQuestion('settings-help')">
                        ⚙️ Pomoc z ustawieniami konta
                    </button>
                    <button class="question-btn lang-en" onclick="askQuestion('settings-help')">
                        ⚙️ Help with account settings
                    </button>

                    <button class="question-btn lang-pl" onclick="askQuestion('avatar-customization')">
                        🎭 Jak zmienić avatar i personalizować profil?
                    </button>
                    <button class="question-btn lang-en" onclick="askQuestion('avatar-customization')">
                        🎭 How to change avatar and personalize profile?
                    </button>

                    <button class="question-btn lang-pl" onclick="askQuestion('account-management')">
                        👤 Zarządzanie kontem użytkownika
                    </button>
                    <button class="question-btn lang-en" onclick="askQuestion('account-management')">
                        👤 User account management
                    </button>

                    <button class="question-btn lang-pl" onclick="askQuestion('user-stats')">
                        📊 Statystyki społeczności graczy
                    </button>
                    <button class="question-btn lang-en" onclick="askQuestion('user-stats')">
                        📊 Player community statistics
                    </button>
                    
                    <button class="question-btn lang-pl" onclick="askQuestion('user-list')">
                        👥 Lista wszystkich użytkowników
                    </button>
                    <button class="question-btn lang-en" onclick="askQuestion('user-list')">
                        👥 List of all users
                    </button>
                    
                    <!-- ADDITIONAL QUESTIONS -->
                    <button class="question-btn lang-pl" onclick="askQuestion('game-modes')">
                        🎲 Tryby gry w Maze
                    </button>
                    <button class="question-btn lang-en" onclick="askQuestion('game-modes')">
                        🎲 Game modes in Maze
                    </button>
                    
                    <button class="question-btn lang-pl" onclick="askQuestion('achievements')">
                        🏆 System osiągnięć w grze
                    </button>
                    <button class="question-btn lang-en" onclick="askQuestion('achievements')">
                        🏆 Game achievement system
                    </button>
                    
                    <button class="question-btn lang-pl" onclick="askQuestion('multiplayer')">
                        👥 Tryby wieloosobowe
                    </button>
                    <button class="question-btn lang-en" onclick="askQuestion('multiplayer')">
                        👥 Multiplayer modes
                    </button>
                    
                    <button class="question-btn lang-pl" onclick="askQuestion('tips-tricks')">
                        💡 Porady i wskazówki do gry
                    </button>
                    <button class="question-btn lang-en" onclick="askQuestion('tips-tricks')">
                        💡 Game tips and tricks
                    </button>
                    
                    <button class="question-btn lang-pl" onclick="askQuestion('future-updates')">
                        🚀 Planowane aktualizacje
                    </button>
                    <button class="question-btn lang-en" onclick="askQuestion('future-updates')">
                        🚀 Planned updates
                    </button>
                    
                    <button class="question-btn lang-pl" onclick="askQuestion('game-story')">
                        📖 Fabuła gry Maze
                    </button>
                    <button class="question-btn lang-en" onclick="askQuestion('game-story')">
                        📖 Maze game story
                    </button>
                    
                    <button class="question-btn lang-pl" onclick="askQuestion('community')">
                        👫 Społeczność graczy
                    </button>
                    <button class="question-btn lang-en" onclick="askQuestion('community')">
                        👫 Player community
                    </button>
                    
                    <button class="question-btn lang-pl" onclick="askQuestion('bugs-reporting')">
                        🐞 Zgłaszanie błędów w grze
                    </button>
                    <button class="question-btn lang-en" onclick="askQuestion('bugs-reporting')">
                        🐞 Reporting game bugs
                    </button>
                    
                    <button class="question-btn lang-pl" onclick="askQuestion('troubleshooting')">
                        🔧 Rozwiązywanie typowych problemów
                    </button>
                    <button class="question-btn lang-en" onclick="askQuestion('troubleshooting')">
                        🔧 Troubleshooting common issues
                    </button>
                    
                    <button class="question-btn lang-pl" onclick="askQuestion('windows-security')">
                        🛡️ Ostrzeżenia Windows Defender
                    </button>
                    <button class="question-btn lang-en" onclick="askQuestion('windows-security')">
                        🛡️ Windows Defender warnings
                    </button>
                </div>
            </div>
            
            <div class="chatbot-footer">
                <div class="lang-pl">🤖 AI Asystent - Zawsze gotowy do pomocy</div>
                <div class="lang-en">🤖 AI Assistant - Always ready to help</div>
            </div>
        </div>
    </div>

    <!-- Info Modal -->
    <div id="infoModal" class="modal">
        <div class="modal-content">
            <span class="close-modal" onclick="closeModal()">&times;</span>
            <h3 class="lang-pl">📥 Jak pobrać grę Maze?</h3>
            <h3 class="lang-en">📥 How to download Maze game?</h3>
            
            <div class="lang-pl">
                <ol class="download-steps">
                    <li><span class="step-highlight">Zaloguj się</span> do swojego konta (wymagane)</li>
                    <li>Kliknij przycisk <span class="step-highlight">"Pobierz grę"</span></li>
                    <li>Plik <span class="step-highlight">maze_menu.zip</span> zostanie pobrany na Twój komputer</li>
                    <li><span class="step-highlight">Rozpakuj</span> plik ZIP do wybranego folderu</li>
                    <li>Uruchom <span class="step-highlight">maze_menu.exe</span> z rozpakowanego folderu</li>
                    <li>Jeśli pojawi się ostrzeżenie Windows Defender, kliknij <span class="step-highlight">"Uruchom mimo to"</span></li>
                    <li><span class="step-highlight">Miłej gry!</span> 🎮</li>
                </ol>
                
                <div class="warning-box">
                    <strong>⚠️ Gdy system Windows pokaże: "Windows ochronił Twój komputer"</strong><br>
                    Może się zdarzyć, że Windows Defender wyświetli ostrzeżenie o nierozpoznanej aplikacji. 
                    Jest to standardowe zabezpieczenie dla plików bez certyfikatu. Aby kontynuować:
                </div>
                
                <img src="images/ochrona1.png" alt="Ostrzeżenie Windows Defender" class="info-img">
                <img src="images/ochrona2.png" alt="Więcej informacji - Uruchom mimo to" class="info-img">
                
                <div class="warning-box" style="margin-top: 15px;">
                    <strong>ℹ️ Wskazówka:</strong> Kliknij "Więcej informacji", a następnie "Uruchom mimo to", 
                    aby uruchomić grę. Plik jest całkowicie bezpieczny i nie zawiera żadnego złośliwego oprogramowania.
                </div>
            </div>
            
            <div class="lang-en">
                <ol class="download-steps">
                    <li><span class="step-highlight">Login</span> to your account (required)</li>
                    <li>Click <span class="step-highlight">"Download game"</span> button</li>
                    <li><span class="step-highlight">maze_menu.zip</span> file will be downloaded to your computer</li>
                    <li><span class="step-highlight">Extract</span> the ZIP file to chosen folder</li>
                    <li>Run <span class="step-highlight">maze_menu.exe</span> from extracted folder</li>
                    <li>If Windows Defender warning appears, click <span class="step-highlight">"Run anyway"</span></li>
                    <li><span class="step-highlight">Enjoy the game!</span> 🎮</li>
                </ol>
                
                <div class="warning-box">
                    <strong>⚠️ When Windows shows: "Windows protected your computer"</strong><br>
                    Windows Defender may show a warning about an unrecognized application. This is a standard protection 
                    for files without a certificate. To continue:
                </div>
                
                <img src="images/ochrona1.png" alt="Windows Defender Warning" class="info-img">
                <img src="images/ochrona2.png" alt="More info - Run anyway" class="info-img">
                
                <div class="warning-box" style="margin-top: 15px;">
                    <strong>ℹ️ Tip:</strong> Click "More info" and then "Run anyway" to launch the game. 
                    The file is completely safe and doesn't contain any malicious software.
                </div>
            </div>
        </div>
    </div>

    <!-- Security Modal -->
    <div id="securityModal" class="modal">
        <div class="modal-content">
            <span class="close-modal" onclick="closeSecurityModal()">&times;</span>
            <h3 class="lang-pl">🛡️ Bezpieczeństwo i prywatność</h3>
            <h3 class="lang-en">🛡️ Security and Privacy</h3>
            
            <div class="security-features">
                <div class="lang-pl">
                    <div class="security-item">Szyfrowanie haseł w bazie danych</div>
                    <div class="security-item">Brak śledzenia zewnętrznego</div>
                    <div class="security-item">Lokalne przechowywanie danych</div>
                    <div class="security-item">Minimalne zbieranie informacji</div>
                    <div class="security-item">Zgodność z RODO</div>
                    <div class="security-item">Kontrola dostępu do pobierania</div>
                    <div class="security-item">Sesje wygasają automatycznie (24h)</div>
                    <div class="security-item">Walidacja wieku użytkowników</div>
                </div>
                <div class="lang-en">
                    <div class="security-item">Password encryption in database</div>
                    <div class="security-item">No external tracking</div>
                    <div class="security-item">Local data storage</div>
                    <div class="security-item">Minimal information collection</div>
                    <div class="security-item">GDPR compliance</div>
                    <div class="security-item">Download access control</div>
                    <div class="security-item">Sessions expire automatically (24h)</div>
                    <div class="security-item">User age validation</div>
                </div>
            </div>
            
            <div class="lang-pl">
                <h4>🔒 Co przechowujemy:</h4>
                <ul>
                    <li>Nazwa użytkownika i zaszyfrowane hasło</li>
                    <li>Data urodzenia (tylko do weryfikacji wieku)</li>
                    <li>Avatar użytkownika</li>
                    <li>Podstawowe statystyki aktywności</li>
                </ul>
                
                <h4>🗑️ Twoje prawa:</h4>
                <ul>
                    <li>Możesz usunąć swoje konto w każdej chwili</li>
                    <li>Masz pełną kontrolę nad swoimi danymi</li>
                    <li>Nie udostępniamy danych osobom trzecim</li>
                </ul>
            </div>
            
            <div class="lang-en">
                <h4>🔒 What we store:</h4>
                <ul>
                    <li>Username and encrypted password</li>
                    <li>Birth date (for age verification only)</li>
                    <li>User avatar</li>
                    <li>Basic activity statistics</li>
                </ul>
                
                <h4>🗑️ Your rights:</h4>
                <ul>
                    <li>You can delete your account anytime</li>
                    <li>You have full control over your data</li>
                    <li>We don't share data with third parties</li>
                </ul>
            </div>
        </div>
    </div>
</body>
</html>